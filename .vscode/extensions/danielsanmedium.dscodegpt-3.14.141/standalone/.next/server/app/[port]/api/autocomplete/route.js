try{let a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},b=(new a.Error).stack;b&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[b]="c612c4c8-0388-43cd-adb1-6423d49abe0f",a._sentryDebugIdIdentifier="sentry-dbid-c612c4c8-0388-43cd-adb1-6423d49abe0f")}catch(a){}"use strict";(()=>{var a={};a.id=4778,a.ids=[4778],a.modules={261:a=>{a.exports=require("next/dist/shared/lib/router/utils/app-paths")},1708:a=>{a.exports=require("node:process")},3295:a=>{a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:a=>{a.exports=require("module")},10846:a=>{a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:a=>{a.exports=require("querystring")},11997:a=>{a.exports=require("punycode")},12412:a=>{a.exports=require("assert")},13309:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{XH:()=>n,l4:()=>q,yC:()=>o});var e=c(34158),f=c(13234),g=c(93065),h=c(68237),i=c(17755),j=c(15317),k=c(66564),l=c(57020),m=a([f,k]);[f,k]=m.then?(await m)():m;let r="",s="";function n({text:a,positionLine:b,positionChar:c,fileName:d,language:e,isSCM:f=!1}){let h=a.split("\n"),i="",j="",k="",l=Math.floor(30),m=Math.floor((100-l)*.7),n=100-l-m,o=Math.max(0,b-m),p=Math.min(h.length,b+n);for(let a=o;a<b;a++)i+=h[a]+"\n";i+=h[b].slice(0,c),j+=h[b].slice(c);for(let a=b+1;a<p;a++)j+="\n"+h[a];l>0&&h.length>100&&(k=h.slice(0,l).join("\n"));let q=g.jl[e]??"//",r=k?k+`
${q}...
`+i:i;return r&&!f&&(r=`${q} ${d}
${r}`),{prefix:r,suffix:j}}async function o(a){let b=(0,h.Lp)(a),c=(await b.diffSummary("--staged")).files,d="";if(0===c.length)return"";let e=0;for(let a of c){let c=a.file;if(g.kq.includes(c.split(".").slice(-1)[0]))continue;e+=1;let f=(await b.diff(["HEAD~1","--",c])).split("\n").slice(0,200),h=f.some(a=>"--- /dev/null"===a),i=f.some(a=>"+++ /dev/null"===a);h?(d+=`#> Changes for ${c}
`,d+=`+++ Added File ${c}
`):i?(d+=`#> Changes for ${c}
`,d+=`--- Deleted File ${c}
`):(d+=`#> Changes for ${c}
`,d+=f.join("\n"))}return d?`${g.MV}

**Input Diff Example 5 (${e} files):**

\`\`\`
$> git diff --staged
${d}\`\`\`

**COMMIT MESSAGE:**\`\`\`
`:""}function p(a,b){let c=b.suffix.split("\n")[0],d=b.prefix.trimEnd().split("\n").slice(-1)[0],e=c.match(/^\s*/)??[""],f=-1;if(b.suffix&&(a.split("\n").length<=1||d.length>7)&&!/^[\t\n]/.test(b.suffix)){for(let b=c.length;b>e[0].length;b--)if((f=a.indexOf(c.slice(0,b)))>=0)return{indexSuffix:f,remainText:c.slice(b)}}return{indexSuffix:f,remainText:c}}let t={anthropic:k.T.anthropic,openai:k.T.openai,ollama:k.T.ollama,codegptplus:k.T.codegpt,mistral:k.T.mistral};async function q({filepath:a,language:b,prompt:c,isSCM:d}){let{enabled:h,provider:k,model:m}=f.DV.get(),n=e.r5.find(a=>a.link.startsWith(k))?.name||k;if(!h||!c.prefix&&!c.suffix)return{text:"",indexSuffix:-1,autocompleteId:"",provider:n,model:m};n!==r&&m!==s&&j.A.clear(),r=n,s=m;let[o,q]=j.A.get(c);if(o){let{indexSuffix:a,remainText:b}=p(o,c);return a>=0&&!o.slice(a).includes(b)&&(o="",a=-1),{text:o,indexSuffix:a,autocompleteId:q,provider:n,model:m}}{let a=t[k];try{let e=await a({prompt:c,model:m,stopWords:function(a,b,c){let d=["\n\n","\r\n\r\n"];g.rg[c]&&(d=["\n\n","\r\n\r\n",...g.rg[c]]);let e=a.prefix.trimEnd().split("\n").slice(-1)[0].trim().split(/[\s]/g).slice(-1)[0];if(e.length>2&&d.push(e),a.suffix){let b=a.suffix.split("\n")[0];/^\s+/.test(b)&&b.trim().length>0&&d.push("\n"),/^[\s\t\n]/.test(a.suffix)&&a.suffix.split(/[.:,|&]/)[0];let c=a.suffix.trim().split("\n")[0],e=c.trim().split(/[\s]/g)[0],f=c.match(/(?=[^a-zA-Z\d_\-\+\.]*$)(.*)/);if(f){let a=f[1];a.length>=2&&d.push(a)}e.length>=2&&d.push(e)}return b&&(d.push("---"),d.push("```"),d.push("**Input")),console.log({stopWords:d}),d}(c,d,b)}),f=e.data.choices[0]?.text;if(f=function(a,b,c,d){let e=a.replace(/\n+\s*$/,"");try{if((0,l.z3)(a)||(0,l.gI)(a)||(0,l.nK)(a,b.prefix)||(0,l.kf)(a))return"";c&&(e=e.replace(/\`\`\`/g,"").replace(/\n/g,""),'"'===e[0]&&(e=e.slice(1)),'"'===e.slice(-1)&&(e=e.slice(0,-1))),b.prefix.endsWith(" ")&&e.startsWith(" ")&&(e=e.slice(1));let d=b.prefix.split("\n").slice(-1)[0];e=(0,l.eA)(e,d,"left"),b.suffix&&(e=(0,l.eA)(e,b.suffix,"right"));let f=e.split("\n");if(d.trim()===f[0].trim()&&""===f[0].trim()&&(e=f.slice(1).join("\n").trimStart()),e.length>2&&((0,i.jM)(e,b.prefix.split("\n").slice(-1*(f.length+1)).join("\n"))>.8||(0,i.jM)(e,b.suffix.split("\n").slice(0,f.length+1).join("\n"))>.8))return"";return e}catch(a){return console.error("Error in cleanCompletion:",a.message),""}}(f,c,d,0)){q=e.data.autocompleteId??"";let{indexSuffix:a,remainText:b}=p(f,c);return a>=0&&!f.slice(a).includes(b)&&(f="",a=-1),f&&j.A.set(c,f,q),{text:f,indexSuffix:a,autocompleteId:q,provider:n,model:m}}}catch(a){return console.log(a.message),{text:"",indexSuffix:-1,autocompleteId:"",provider:n,model:m,error:a.message}}}return{text:"",indexSuffix:-1,autocompleteId:"",provider:n,model:m}}d()}catch(a){d(a)}})},15317:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(93065);class e{constructor(a=1e3){this.cache=new Map,this.limit=a}_generateCombinations(a,b){let c=[],e=a+b,f=a.length,g=Math.min(a.length+b.length,a.length+d.g4);for(let a=f;a<=g-1;a++){let b=e.slice(0,a),d=e.slice(a);c.push({prefix:b,middle:d})}return c}_hashPrompt(a){let b=`${a.prefix}-${a.suffix}`,c=0,d;if(0===b.length)return"";for(d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return c.toString()}get(a){let b=this._hashPrompt(a);return this.cache.get(b)||["",""]}set(a,b,c){for(let d of this._generateCombinations(a.prefix,b)){let b=this._hashPrompt({prefix:d.prefix,suffix:a.suffix});if(this.cache.set(b,[d.middle,c]),this.cache.size>this.limit){let a=this.cache.keys().next().value;a&&this.cache.delete(a)}}}clear(){this.cache.clear()}}let f=new e},17755:(a,b)=>{b.jM=void 0,b.jM=function(a,b,c,d){if(void 0===c&&(c=2),void 0===d&&(d=!1),d||(a=a.toLowerCase(),b=b.toLowerCase()),a.length<c||b.length<c)return 0;for(var e=new Map,f=0;f<a.length-(c-1);f++){var g=a.substr(f,c);e.set(g,e.has(g)?e.get(g)+1:1)}for(var h=0,i=0;i<b.length-(c-1);i++){var j=b.substr(i,c),k=e.has(j)?e.get(j):0;k>0&&(e.set(j,k-1),h++)}return 2*h/(a.length+b.length-(c-1)*2)},b.Ay=b.jM},19063:a=>{a.exports=require("require-in-the-middle")},19771:a=>{a.exports=require("process")},19889:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{"0015310633b036d93542287af6e1e5c841312dc10a":()=>f.rQ,"0029e71c75f47836dd830471aee1b40ceeed95be47":()=>h.checkGeminiAuthStatus,"0045472fa5b0a1b9855e8bf205655770ef75ad3b3e":()=>g.checkAnthropicAuthStatus,"0046276cb583cfb92a8869c410771b6c80cc0b23a6":()=>f.checkClaudeCodeAuthStatus,"004be05dee3426c5f11d0e66b5066262d7a4db8a17":()=>h.Y,"007a7f89df6506b1809214bffb53398e7f0af45005":()=>g.Kq,"00b97536b90913c29ba658bcf74b8cb28f49640fb2":()=>g.E7,"00e3fff982a123db85465983d281c77ea76ac62352":()=>f.Py,"00e808682b90c7b370acf0016c53bc8bab68aaa3f1":()=>h.w,"00ea71ce0a33c30d7902911c704166d3ea29a443d0":()=>f.eI,"40b2bbdbed0edb9d20d055cf44251b2b61e40a3460":()=>f.QX,"40c2eb8135a72f6637571664db9a6ef35de36f137a":()=>g.R4,"60d93a9b6ac5bd5ebb66aa237e807b748d3658e394":()=>f.CW,"7f0413198d87d95d38f1f76e6f62d0a92744143ecc":()=>e.Vn,"7f04664cd67d99e6d52e7170d4466b3169f05f9b3a":()=>e._f,"7f05bec7f62c561b44d1504864c8290f9bf058f785":()=>e.XQ,"7f0934b45a6865faaefd6905f5d3bd51b573a9082c":()=>e.MP,"7f095b8477d2d28850841aef123058f5ca8d59b0ec":()=>e.Bj,"7f0a0573a45fe972983faf11a3adfd394667f859cb":()=>e.BN,"7f0e5eb98e076f9567d7832fb4e4e51e1a6ba56100":()=>e.IO,"7f24f1d27584d3325c0e0ebe1394ccf251718462a1":()=>e.I3,"7f28d4c4c05f8f3cd10f9267c99a8428b8a600ea8d":()=>e.fm,"7f4a62f939cea5e363655629b2ea1ab6d8352fd210":()=>e.s_,"7f51d30ccd9dd51730a7cf76a5b8f6ae6ccc1c2c56":()=>e.wt,"7f52b8c3ff78602f71b491653101583e0f67801f8c":()=>e.pc,"7f56868f33be8318589f9b3a363ab04adefc272709":()=>e.lG,"7f57729d64d7637b519d56ad1996954017be67a4d5":()=>e.Ww,"7f5ad8467aac89c08c21fd0e1cf4ecc31aff2df231":()=>e.CZ,"7f64fd1fa9ad600635c2d933a96c8411db502b30f5":()=>e.bm,"7f650a507520ebc5f0557d5e235a11ca4dc5b9abb1":()=>e.WP,"7f67327b81bcfacb4a6be51a58218ed579159ae5a0":()=>e.aM,"7f6998d8d840d838e7ff049084e51dbe7c6cfca919":()=>e.o0,"7f6ef45402e952c7fd56adf9179ca8cec7c679fe76":()=>e.Jw,"7f746dcd16c298cfcd286cdb390c830e770d2835f8":()=>e.TG,"7f7b2d84ee4a68b47dc4136bcbe68c7a7b7c087714":()=>e.CG,"7f7bf85cb3c41afcef21448c04f81eb25cbee0d8ba":()=>e.UU,"7f7d933322328d147e7578ae77fb43077fe15b4710":()=>e.CA,"7f7e8cf20da57daeda26c84a404448845d5ceb0c75":()=>e.Yp,"7f805dd36cdefbf583dc85aa935bdded57dacaf3cc":()=>e.iJ,"7f83f9a9073010d5ad4b9dc8bde9d587a0ded0e57e":()=>e.DH,"7f8ae93b14600d2b620d0b3526706e0682300d0887":()=>e.ph,"7f91127e5204371a7403701ff60138fbc4194b00bd":()=>e.gn,"7f9265462907f5bffa72ee76bd06448f5fdfca5844":()=>e.iR,"7f9b7f743007eea0c2cc8ab6cea47e03b04cf327f8":()=>e.ju,"7f9de8e523984a637918cd002baca7e9fcccaa8a18":()=>e.vK,"7fa06d7db3b419df86c480e0efb911da974cc744c0":()=>e.vV,"7fa38096c9579a6f1c6432672b2d130c300e7c426f":()=>e.zU,"7fa46cef4469c2180938f67e7fcba59cefaa223f2d":()=>e._S,"7fb4996fc6b8fb45c23e0cb6c18807ed4097e6fdda":()=>e.Dk,"7fb4ed507ec0a38485bc1b232ea7543a189922c68c":()=>e.vE,"7fb8b4795471a1193610fc3da6c18a7fed68c7b09a":()=>e.Tq,"7fc2fff73e317396c07f307f62f2ece5364434296e":()=>e._X,"7fcb9b22a46504e3fb3cea23103e6e5bac5be54058":()=>e.t2,"7fcba4abe3d0470f2617143947b9fa89e7240d762e":()=>e.le,"7fd1b346cc2fa02aeb47281393ec2bac1d2c75d1e9":()=>e.JP,"7fd1dcfac79a58ef27f4101f360279c14a370e3b00":()=>e.x6,"7fd20b662b49b03a9759f5190ba596007cf855a5de":()=>e._R,"7fd9ba1f4bf9a2761dfb5845b74508bd6871e8dafa":()=>e.vR,"7fdc89f85591ac6c18d198d3a7f9860f9069f183ac":()=>e.RK,"7fdd192cfa93d409af276c31d8a77b00e4b162c4e9":()=>e.vk,"7fe375707b950d37d4adf07f99bf3f866507966651":()=>e.AX,"7fe3d1b12dce47a24bd8abe966ac2f4bedbd7c0ac3":()=>e.S_,"7fe6c8700f4c22103b15b76b783f58d9fd6c025a3e":()=>e.Hu,"7fec87fa6ce3b5d38ca2444dd1ed2a116fb621eba8":()=>e.Ct,"7fed6ed4db2dc9ad3dd26995357759c989f2726129":()=>e.gv,"7feeae42fc2e581f92238e58b2b20ce368a82cfdc8":()=>e.m_,"7ffa15cfdca9086d0575a18fc4fce91134b1b7a646":()=>e._P,"7ffa6c010bb04c5d1f265efe1d848fa67e6169634c":()=>e.yH,"7ffb4f1c93136c2724b86a9b6d3e123ad02aafe75b":()=>e.pe,"7ffc1a31852de6a4f19730d411251fb08eb39f60c6":()=>i.x,"7ffc29cc323217f407ca7a2164ea83de4faef75dba":()=>e.hq,"7ffe591c822640777d667c30993c3640fffa736f63":()=>e.So});var e=c(43084),f=c(80346),g=c(5998),h=c(49091),i=c(62503),j=a([e,f,g,h,i]);[e,f,g,h,i]=j.then?(await j)():j,d()}catch(a){d(a)}})},21091:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),function(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}(c(58066))},21820:a=>{a.exports=require("os")},25968:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{handler:()=>x,patchFetch:()=>w,routeModule:()=>y,serverHooks:()=>B,workAsyncStorage:()=>z,workUnitAsyncStorage:()=>A});var e=c(23501),f=c(4794),g=c(95321),h=c(90105),i=c(26443),j=c(261),k=c(40081),l=c(1983),m=c(91417),n=c(10282),o=c(51468),p=c(78326),q=c(95484),r=c(12829),s=c(86439),t=c(87747),u=c(64783),v=a([u]);u=(v.then?(await v)():v)[0];let y=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/[port]/api/autocomplete/route",pathname:"/[port]/api/autocomplete",filename:"route",bundlePath:"app/[port]/api/autocomplete/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/home/jeanpdev/dev/codegpt-nextjs/app/[port]/api/autocomplete/route.ts",nextConfigOutput:"standalone",userland:u}),{workAsyncStorage:z,workUnitAsyncStorage:A,serverHooks:B}=y;function w(){return(0,g.patchFetch)({workAsyncStorage:z,workUnitAsyncStorage:A})}async function x(a,b,c){var d;let e="/[port]/api/autocomplete/route";"/index"===e&&(e="/");let g=await y.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:z,routerServerContext:A,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,resolvedPathname:D}=g,E=(0,j.normalizeAppPath)(e),F=!!(z.dynamicRoutes[E]||z.routes[D]);if(F&&!x){let a=!!z.routes[D],b=z.dynamicRoutes[E];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let G=null;!F||y.isDev||x||(G=D,G="/index"===G?"/":G);let H=!0===y.isDev||!F,I=F&&!H,J=a.method||"GET",K=(0,i.getTracer)(),L=K.getActiveScopeSpan(),M={params:v,prerenderManifest:z,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:H,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:I,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>y.onRequestError(a,b,d,A)},sharedContext:{buildId:u}},N=new k.NodeNextRequest(a),O=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(N,(0,l.signalFromNodeResponse)(b));try{let d=async c=>y.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=K.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${J} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${J} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&B&&C&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=M.renderOpts.fetchMetrics;let i=M.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=M.renderOpts.collectedTags;if(!F)return await (0,o.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await y.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:B})},A),b}},l=await y.handleResponse({req:a,nextConfig:w,cacheKey:G,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:z,isRoutePPREnabled:!1,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,responseGenerator:k,waitUntil:c.waitUntil});if(!F)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",B?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&F||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(N,O,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};L?await g(L):await K.withPropagatedContext(a.headers,()=>K.trace(m.BaseServerSpan.handleRequest,{spanName:`${J} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":J,"http.target":a.url}},g))}catch(b){if(L||b instanceof s.NoFallbackError||await y.onRequestError(a,b,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:B})}),F)throw b;return await (0,o.I)(N,O,new Response(null,{status:500})),null}}d()}catch(a){d(a)}})},27296:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>i});var e=c(13234),f=c(93065),g=a([e]);e=(g.then?(await g)():g)[0];let h=new AbortController,i=async({model:a,prompt:b,stopWords:c})=>{try{h.abort(),h=new AbortController;let{prefix:d,suffix:g}=b,i={"deepseek-coder":g?"<｜fim▁begin｜>"+d+"<｜fim▁hole｜>"+g+"<｜fim▁end｜>":d,"deepseek-coder-v2":g?"<｜fim▁begin｜>"+d+"<｜fim▁hole｜>"+g+"<｜fim▁end｜>":d,starcoder2:g?"<fim_prefix>"+d+"<fim_suffix>"+g+"<fim_middle>":d,codeqwen:g?"<fim_prefix>"+d+"<fim_suffix>"+g+"<fim_middle>":d,"qwen2.5-coder":g?"<|fim_prefix|>"+d+"<|fim_suffix|>"+g+"<|fim_middle|>":d,codellama:g?"<PRE> "+d+" <SUF>"+g+" <MID>":d,codegemma:g?"<|fim_prefix|>"+d+"<|fim_suffix|>"+g+"<|fim_middle|>":d,codestral:g?"[SUFFIX]"+g+"[PREFIX]"+d:d,"replit-code-v1_5-3b":d},j=(a.split("/")[1]||a).split(":")[0],k=e.FI.getByProvider("Ollama")?.custom_link,l=await fetch(`${k||"http://localhost:11434"}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:a,template:"{{ .Prompt }}{{ .Response }}",options:{stop:c.concat({"deepseek-coder":["<｜fim▁begin｜>","<｜fim▁hole｜>","<｜fim▁end｜>"],"deepseek-coder-v2":["<｜fim▁begin｜>","<｜fim▁hole｜>","<｜fim▁end｜>"],starcoder2:["<fim_prefix>","<fim_suffix>","<fim_middle>","<file_sep>","<repo_name>"],codeqwen:["<fim_prefix>","<fim_suffix>","<fim_middle>","<file_sep>","<repo_name>"],"qwen2.5-coder":["<|fim_prefix|>","<|fim_suffix|>","<|fim_middle|>","<|file_sep|>","<|repo_name|>","<|endoftext|>","<|fim_pad|>","<|","\n``<|"],codellama:["<PRE> "," <SUF>"," <MID>"],codegemma:["<|fim_prefix|>","<|fim_suffix|>","<|fim_middle|>","<|file_separator|>"],codestral:["[SUFFIX]","[PREFIX]","[MIDDLE]","[TOOL_CALLS]","[/PREFIX]","[/SUFFIX]"],"replit-code-v1_5-3b":[]}[j]).filter(Boolean),temperature:-1,repeat_penalty:1,num_predict:f.S0},prompt:i[j],stream:!1}),signal:h.signal});if(!l.ok){let a=await l.json();throw Error(a.error)}return{data:{choices:[{text:(await l.json()).response}]}}}catch(a){if("AbortError"===a.name)throw Error("Ollama aborted by the user");if(a.message&&a.message.includes("fetch failed"))throw Error(`Fetch failed to URL ${e.FI.getByProvider("Ollama")?.custom_link||"http://localhost:11434"}`);throw console.error("Error in Ollama autocomplete:",a),Error(`Error fetching Ollama completion: ${a.message||a.name||"Unknown error"}`)}};d()}catch(a){d(a)}})},27910:a=>{a.exports=require("stream")},28354:a=>{a.exports=require("util")},29021:a=>{a.exports=require("fs")},29294:a=>{a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:a=>{a.exports=require("node:child_process")},33873:a=>{a.exports=require("path")},34631:a=>{a.exports=require("tls")},36686:a=>{a.exports=require("diagnostics_channel")},37067:a=>{a.exports=require("node:http")},37830:a=>{a.exports=require("node:stream/web")},38522:a=>{a.exports=require("node:zlib")},41692:a=>{a.exports=require("node:tls")},43755:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>h});var e=c(13234),f=c(93065),g=a([e]);e=(g.then?(await g)():g)[0];let h=async({model:a,prompt:b})=>{try{let c="Human: You are a code completion AI designed to take the surrounding code and shared context into account in order to predict and suggest high-quality code to complete the code enclosed in <codeCompletion> tags. You only respond with code that works and fits seamlessly with surrounding code if any or use best practice and nothing else.\nAssistant: I am a code completion AI with exceptional context-awareness designed to auto-complete nested code blocks with high-quality code that seamlessly integrates with surrounding code.Please output the code within <codeCompletion></codeCompletion> tags.\nHuman: Below the code in unknown language. Review the code outside the XML tags to detect the functionality, formats, style, patterns, and logics in use. Then, use what you detect and reuse methods/libraries to complete and enclose completed code only inside XML tags precisely without duplicating existing implementations. Here is the code: \n```\n<codeCompletion>"+b.prefix+"</codeCompletion>\n\n```\n\nAssistant: <codeCompletion>",d=e.FI.getByProvider("Anthropic")?.apikey;if(!d)throw Error("No API key found");let g=await fetch("https://api.anthropic.com/v1/complete",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":d,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:a,prompt:c,max_tokens_to_sample:f.S0,temperature:.3,stop_sequences:["\n\n","\n   \n","\n    \n","\n	\n"],stream:!1})});if(!g.ok)throw Error("Error fetching completion");let h=await g.json();return{data:{choices:[{text:((a,b)=>{for(let c=0;c<a.length;c++)if(a.slice(c)===b.slice(0,a.length-c))return b.slice(a.length-c);return b})(b.prefix,h.completion).replace("</codeCompletion>","")}]}}}catch(a){throw console.error("Error in Anthropic autocomplete:",a),a}};d()}catch(a){d(a)}})},44708:a=>{a.exports=require("node:https")},44870:a=>{a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:a=>{a.exports=require("node:os")},53053:a=>{a.exports=require("node:diagnostics_channel")},55511:a=>{a.exports=require("crypto")},55591:a=>{a.exports=require("https")},56801:a=>{a.exports=require("import-in-the-middle")},57020:(a,b,c)=>{c.d(b,{eA:()=>i,gI:()=>f,kf:()=>h,nK:()=>g,z3:()=>e});var d=c(17755);function e(a){return 0===a.trim().length}function f(a){return/^[\s]+$/.test(a)}function g(a,b){let c=b.split("\n").filter(a=>a.trim().length>0).slice(-1)[0];if(!c)return!1;let e=a.split("\n").find(a=>a.trim().length>0);return!!e&&(0,d.Ay)(c,e)>.8}function h(a){let b=a.split("\n");if(b.length<6)return!1;for(let a=1;a<4;a++){let c=b[0],d=b[a],e=c.length>d.length?d.length:c.length;if(e>5||e>.5*c.length){let d=0;for(let e=0;e<b.length;e+=a)b[e].includes(c)&&d++;if(d*a>8||d*a/b.length>.8)return!0}}return!1}function i(a,b,c="right"){let d=b.replace(/(\/\/\s.*|#\s.*)/g,"");if("right"===c){for(let b=0;b<a.length;b++)if(d.startsWith(a.slice(b)))return a.slice(0,b)}else if("left"===c){for(let b=a.length;b>=0;b--)if(d.endsWith(a.slice(0,b)))return a.slice(b)}return a}},57075:a=>{a.exports=require("node:stream")},57975:a=>{a.exports=require("node:util")},58066:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=c(29021),f=d(c(81864)).default("@kwsites/file-exists");b.exists=function(a,c=b.READABLE){return function(a,b,c){f("checking %s",a);try{let d=e.statSync(a);if(d.isFile()&&b)return f("[OK] path represents a file"),!0;if(d.isDirectory()&&c)return f("[OK] path represents a directory"),!0;return f("[FAIL] path represents something other than a file or directory"),!1}catch(a){if("ENOENT"===a.code)return f("[FAIL] path is not accessible: %o",a),!1;throw f("[FATAL] %o",a),a}}(a,(c&b.FILE)>0,(c&b.FOLDER)>0)},b.FILE=1,b.FOLDER=2,b.READABLE=b.FILE+b.FOLDER},59723:(a,b,c)=>{c.d(b,{w:()=>g});var d=c(6378);let e="https://auth.codegpt.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJyb3h1dnNyc2RieGFjb2twcmF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTU0OTEyNzgsImV4cCI6MjAxMTA2NzI3OH0.fyyxVq2c2eLIExMQEUxP8wNoyY2UumBrfN5So16TCno";(0,d.createBrowserClient)(e,f);let g=a=>(0,d.createServerClient)(e,f,{cookies:{get:b=>a.get(b)?.value,set(b,c,d){try{a.set({name:b,value:c,...d})}catch(a){}},remove(b,c){try{a.set({name:b,value:"",...c})}catch(a){}}}})},61732:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>h});var e=c(13234),f=c(93065),g=a([e]);e=(g.then?(await g)():g)[0];let h=async({model:a,prompt:b,stopWords:c})=>{try{let a=e.FI.getByProvider("Mistral")?.apikey;if(!a)throw Error("No API key found");let d=await fetch("https://api.mistral.ai/v1/fim/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:"codestral-latest",prompt:b.prefix,suffix:b.suffix,temperature:.3,stop:c,max_tokens:f.S0})});if(!d.ok){let a=await d.text();throw Error(a)}let g=await d.json();return{data:{choices:g.choices.map(a=>({text:a.message.content,finish_reason:a.finish_reason})),usage:g.usage}}}catch(a){throw console.error("Error in Mistral autocomplete:",a),a}};d()}catch(a){d(a)}})},62503:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{x:()=>m});var e=c(944);c(7004);var f=c(827),g=c(13234),h=c(59723),i=c(31921),j=c(43084),k=c(36676),l=a([f,g,j]);[f,g,j]=l.then?(await l)():l;let m=async({accessToken:a,refreshToken:b,expiresAt:c})=>{let d,e;console.log("SET VICUNA SESSION"),a||b||c||(0,h.w)(await (0,i.UL)()).auth.signOut({scope:"local"}).catch(a=>console.log(a));let k=a||g.FI.getByProvider("CodeGPT Plus Beta")?.apikey,l=await (0,f.y)();try{d=await fetch(`${l}/me`,{method:"GET",cache:"no-store",...k?{headers:{Authorization:`Bearer ${k}`}}:{}})}catch(a){console.error("Error fetching user data from CodeGPT API:",a);return}if(!d.ok){try{let a=await d.text();(0,j.Vn)(a)}catch(a){console.error("Error reading response text:",a)}return}try{e=await d.json()}catch(a){console.error("Error parsing JSON response from CodeGPT API:",a);return}let m=e?.user?.distinct_id,n=e?.signedDistinctId;try{g.jM.upsert({access_token:a,refresh_token:b,expires_at:Number(c),signed_distinct_id:n,distinct_id:m})}catch(a){console.error("Error upserting CodeGPT session data:",a)}};(0,k.D)([m]),(0,e.A)(m,"7ffc1a31852de6a4f19730d411251fb08eb39f60c6",null),d()}catch(a){d(a)}})},63033:a=>{a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64783:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{DELETE:()=>q,GET:()=>m,HEAD:()=>r,OPTIONS:()=>s,PATCH:()=>p,POST:()=>n,PUT:()=>o});var e=c(63033),f=c(13309),g=c(25009),h=a([f]);async function i(a){let b=await a.json(),c=(0,f.XH)(b);if(b.isSCM){let a=await (0,f.yC)(b.workspacePath);c.prefix=`${a}${c.prefix}`}let d=await (0,f.l4)({filepath:b.fileName,language:b.language,prompt:c,isSCM:b.isSCM??!1});return Response.json({text:d?.text,indexSuffix:d?.indexSuffix,autocompleteId:d?.autocompleteId,provider:d.provider,model:d.model,error:d.error})}f=(h.then?(await h)():h)[0];let k={...e},l="workUnitAsyncStorage"in k?k.workUnitAsyncStorage:"requestAsyncStorage"in k?k.requestAsyncStorage:void 0;function j(a,b){return"phase-production-build"===process.env.NEXT_PHASE||"function"!=typeof a?a:new Proxy(a,{apply:(a,c,d)=>{let e;try{let a=l?.getStore();e=a?.headers}catch{}return g.wrapRouteHandlerWithSentry(a,{method:b,parameterizedRoute:"/[port]/api/autocomplete",headers:e}).apply(c,d)}})}let m=j(void 0,"GET"),n=j(i,"POST"),o=j(void 0,"PUT"),p=j(void 0,"PATCH"),q=j(void 0,"DELETE"),r=j(void 0,"HEAD"),s=j(void 0,"OPTIONS");d()}catch(a){d(a)}})},66564:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{T:()=>k});var e=c(43755),f=c(73152),g=c(61732),h=c(27296),i=c(75452),j=a([e,f,g,h,i]);[e,f,g,h,i]=j.then?(await j)():j;let k={codegpt:f.N,mistral:g.A,ollama:h.A,openai:i.A,anthropic:e.A};d()}catch(a){d(a)}})},68237:(a,b,c)=>{c.d(b,{Lp:()=>eE});let d=require("node:buffer");var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX=c(21091),aY=c(81864),aZ=c(79646),a$=c(87027),a_=c(78474),a0=Object.defineProperty,a1=Object.getOwnPropertyDescriptor,a2=Object.getOwnPropertyNames,a3=Object.prototype.hasOwnProperty,a4=(a,b)=>function(){return a&&(b=(0,a[a2(a)[0]])(a=0)),b},a5=(a,b)=>{for(var c in b)a0(a,c,{get:b[c],enumerable:!0})},a6=a=>((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of a2(b))a3.call(a,e)||e===c||a0(a,e,{get:()=>b[e],enumerable:!(d=a1(b,e))||d.enumerable});return a})(a0({},"__esModule",{value:!0}),a);function a7(a){return a instanceof String&&e.has(a)}function a8(a){return e.get(a)||[]}var a9=a4({"src/lib/args/pathspec.ts"(){"use strict";e=new WeakMap}}),ba=a4({"src/lib/errors/git-error.ts"(){"use strict";f=class extends Error{constructor(a,b){super(b),this.task=a,Object.setPrototypeOf(this,new.target.prototype)}}}}),bb=a4({"src/lib/errors/git-response-error.ts"(){"use strict";ba(),g=class extends f{constructor(a,b){super(void 0,b||String(a)),this.git=a}}}}),bc=a4({"src/lib/errors/task-configuration-error.ts"(){"use strict";ba(),h=class extends f{constructor(a){super(void 0,a)}}}});function bd(a){return"function"!=typeof a?j:a}function be(a){return"function"==typeof a&&a!==j}function bf(a,b){let c=a.indexOf(b);return c<=0?[a,""]:[a.substr(0,c),a.substr(c+1)]}function bg(a,b=0){return bi(a)&&a.length>b?a[b]:void 0}function bh(a,b=0){if(bi(a)&&a.length>b)return a[a.length-1-b]}function bi(a){return!!(a&&"number"==typeof a.length)}function bj(a="",b=!0,c="\n"){return a.split(c).reduce((a,c)=>{let d=b?c.trim():c;return d&&a.push(d),a},[])}function bk(a,b){return bj(a,!0).map(a=>b(a))}function bl(a){return(0,aX.exists)(a,aX.FOLDER)}function bm(a,b){return Array.isArray(a)?a.includes(b)||a.push(b):a.add(b),b}function bn(a,b){return Array.isArray(a)&&!a.includes(b)&&a.push(b),a}function bo(a,b){if(Array.isArray(a)){let c=a.indexOf(b);c>=0&&a.splice(c,1)}else a.delete(b);return b}function bp(a){return Array.isArray(a)?a:[a]}function bq(a){return a.replace(/[\s-]+(.)/g,(a,b)=>b.toUpperCase())}function br(a){return bp(a).map(String)}function bs(a,b=0){if(null==a)return b;let c=parseInt(a,10);return isNaN(c)?b:c}function bt(a,b){let c=[];for(let d=0,e=a.length;d<e;d++)c.push(b,a[d]);return c}function bu(a){return(Array.isArray(a)?d.Buffer.concat(a):a).toString("utf-8")}function bv(a,b){return Object.assign({},...b.map(b=>b in a?{[b]:a[b]}:{}))}function bw(a=0){return new Promise(b=>setTimeout(b,a))}function bx(a){if(!1!==a)return a}var by=a4({"src/lib/utils/util.ts"(){"use strict";i="\0",j=()=>{},k=Object.prototype.toString.call.bind(Object.prototype.toString)}});function bz(a,b,c){return b(a)?a:arguments.length>2?c:void 0}function bA(a,b){let c=a7(a)?"string":typeof a;return/number|string|boolean/.test(c)&&(!b||!b.includes(c))}function bB(a){return!!a&&"[object Object]"===k(a)}function bC(a){return"function"==typeof a}var bD=a4({"src/lib/utils/argument-filters.ts"(){"use strict";by(),a9(),l=a=>Array.isArray(a),m=a=>"string"==typeof a,n=a=>Array.isArray(a)&&a.every(m),o=a=>m(a)||Array.isArray(a)&&a.every(m),p=a=>!(null==a||"number|boolean|function".includes(typeof a))&&(Array.isArray(a)||"string"==typeof a||"number"==typeof a.length)}}),bE=a4({"src/lib/utils/exit-codes.ts"(){"use strict";var a;(a=q||{})[a.SUCCESS=0]="SUCCESS",a[a.ERROR=1]="ERROR",a[a.NOT_FOUND=-2]="NOT_FOUND",a[a.UNCLEAN=128]="UNCLEAN",q=a}}),bF=a4({"src/lib/utils/git-output-streams.ts"(){"use strict";r=class a{constructor(a,b){this.stdOut=a,this.stdErr=b}asStrings(){return new a(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),bG=a4({"src/lib/utils/line-parser.ts"(){"use strict";s=class{constructor(a,b){this.matches=[],this.parse=(a,b)=>(this.resetMatches(),!!this._regExp.every((b,c)=>this.addMatch(b,c,a(c)))&&!1!==this.useMatches(b,this.prepareMatches())),this._regExp=Array.isArray(a)?a:[a],b&&(this.useMatches=b)}useMatches(a,b){throw Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(a,b,c){let d=c&&a.exec(c);return d&&this.pushMatch(b,d),!!d}pushMatch(a,b){this.matches.push(...b.slice(1))}},t=class extends s{addMatch(a,b,c){return/^remote:\s/.test(String(c))&&super.addMatch(a,b,c)}pushMatch(a,b){(a>0||b.length>1)&&super.pushMatch(a,b)}}}});function bH(...a){let b=process.cwd(),c=Object.assign({baseDir:b,...u},...a.filter(a=>"object"==typeof a&&a));return c.baseDir=c.baseDir||b,c.trimmed=!0===c.trimmed,c}var bI=a4({"src/lib/utils/simple-git-options.ts"(){"use strict";u={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function bJ(a,b=[]){return bB(a)?Object.keys(a).reduce((b,c)=>{let d=a[c];if(a7(d))b.push(d);else if(bA(d,["boolean"]))b.push(c+"="+d);else if(Array.isArray(d))for(let a of d)bA(a,["string","number"])||b.push(c+"="+a);else b.push(c);return b},b):b}function bK(a,b=0,c=!1){let d=[];for(let c=0,e=b<0?a.length:b;c<e;c++)"string|number".includes(typeof a[c])&&d.push(String(a[c]));return bJ(bL(a),d),c||d.push(...function(a){let b="function"==typeof bh(a);return bz(bh(a,+!!b),l,[])}(a)),d}function bL(a){let b=bC(bh(a));return bz(bh(a,+!!b),bB)}function bM(a,b=!0){let c=bd(bh(a));return b||be(c)?c:void 0}var bN=a4({"src/lib/utils/task-options.ts"(){"use strict";bD(),by(),a9()}});function bO(a,b){return a(b.stdOut,b.stdErr)}function bP(a,b,c,d=!0){return bp(c).forEach(c=>{for(let e=bj(c,d),f=0,g=e.length;f<g;f++){let c=(a=0)=>{if(!(f+a>=g))return e[f+a]};b.some(({parse:b})=>b(c,a))}}),a}var bQ=a4({"src/lib/utils/task-parser.ts"(){"use strict";by()}}),bR={};a5(bR,{ExitCodes:()=>q,GitOutputStreams:()=>r,LineParser:()=>s,NOOP:()=>j,NULL:()=>i,RemoteLineParser:()=>t,append:()=>bm,appendTaskOptions:()=>bJ,asArray:()=>bp,asCamelCase:()=>bq,asFunction:()=>bd,asNumber:()=>bs,asStringArray:()=>br,bufferToString:()=>bu,callTaskParser:()=>bO,createInstanceConfig:()=>bH,delay:()=>bw,filterArray:()=>l,filterFunction:()=>bC,filterHasLength:()=>p,filterPlainObject:()=>bB,filterPrimitives:()=>bA,filterString:()=>m,filterStringArray:()=>n,filterStringOrStringArray:()=>o,filterType:()=>bz,first:()=>bg,folderExists:()=>bl,forEachLineWithContent:()=>bk,getTrailingOptions:()=>bK,including:()=>bn,isUserFunction:()=>be,last:()=>bh,objectToString:()=>k,orVoid:()=>bx,parseStringResponse:()=>bP,pick:()=>bv,prefixedArray:()=>bt,remove:()=>bo,splitOn:()=>bf,toLinesWithContent:()=>bj,trailingFunctionArgument:()=>bM,trailingOptionsArgument:()=>bL});var bS=a4({"src/lib/utils/index.ts"(){"use strict";bD(),bE(),bF(),bG(),bI(),bN(),bQ(),by()}}),bT={};function bU(a){switch(a){case"bare":return bW();case"root":return bV()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:w,parser:x}}function bV(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:w,parser:a=>/^\.(git)?$/.test(a.trim())}}function bW(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:w,parser:x}}a5(bT,{CheckRepoActions:()=>v,checkIsBareRepoTask:()=>bW,checkIsRepoRootTask:()=>bV,checkIsRepoTask:()=>bU});var bX=a4({"src/lib/tasks/check-is-repo.ts"(){"use strict";var a;bS(),(a=v||{}).BARE="bare",a.IN_TREE="tree",a.IS_REPO_ROOT="root",v=a,w=({exitCode:a},b,c,d)=>{if(128===a&&/(Not a git repository|Kein Git-Repository)/i.test(String(b)))return c(Buffer.from("false"));d(b)},x=a=>"true"===a.trim()}}),bY=a4({"src/lib/responses/CleanSummary.ts"(){"use strict";bS(),y=class{constructor(a){this.dryRun=a,this.paths=[],this.files=[],this.folders=[]}},z=/^[a-z]+\s*/i,A=/^[a-z]+\s+[a-z]+\s*/i,B=/\/$/}}),bZ={};function b$(a){return{commands:C,format:"empty",parser:a}}function b_(a){return{commands:C,format:"empty",parser(){throw"string"==typeof a?new h(a):a}}}function b0(a,b=!1){return{commands:a,format:"utf-8",parser:a=>b?String(a).trim():a}}function b1(a){return{commands:a,format:"buffer",parser:a=>a}}function b2(a){return"buffer"===a.format}function b3(a){return"empty"===a.format||!a.commands.length}a5(bZ,{EMPTY_COMMANDS:()=>C,adhocExecTask:()=>b$,configurationErrorTask:()=>b_,isBufferTask:()=>b2,isEmptyTask:()=>b3,straightThroughBufferTask:()=>b1,straightThroughStringTask:()=>b0});var b4=a4({"src/lib/tasks/task.ts"(){"use strict";bc(),C=[]}}),b5={};function b6(a,b){let c,d,e,{cleanMode:f,options:g,valid:h}=(d=[],e={cleanMode:!1,options:!0},a.replace(/[^a-z]i/g,"").split("").forEach(a=>{var b,f;"f"===(b=a)||"n"===b?(c=a,e.cleanMode=!0):e.options=e.options&&(f=d[d.length]=`-${a}`,/^-[a-z]$/i.test(f)&&H.has(f.charAt(1)))}),{cleanMode:c,options:d,valid:e});return f?h.options?(g.push(...b),g.some(b9))?b_(D):b7(f,g):b_(F+JSON.stringify(a)):b_(E)}function b7(a,b){return{commands:["clean",`-${a}`,...b],format:"utf-8",parser:b=>(function(a,b){let c=new y(a),d=a?A:z;return bj(b).forEach(a=>{let b=a.replace(d,"");c.paths.push(b),(B.test(b)?c.folders:c.files).push(b)}),c})("n"===a,b)}}function b8(a){return Array.isArray(a)&&a.every(a=>H.has(a))}function b9(a){return/^-[^\-]/.test(a)?a.indexOf("i")>0:"--interactive"===a}a5(b5,{CONFIG_ERROR_INTERACTIVE_MODE:()=>D,CONFIG_ERROR_MODE_REQUIRED:()=>E,CONFIG_ERROR_UNKNOWN_OPTION:()=>F,CleanOptions:()=>G,cleanTask:()=>b7,cleanWithOptionsTask:()=>b6,isCleanOptionsArray:()=>b8});var ca=a4({"src/lib/tasks/clean.ts"(){"use strict";var a;bY(),bS(),b4(),D="Git clean interactive mode is not supported",E='Git clean mode parameter ("n" or "f") is required',F="Git clean unknown option found in: ",(a=G||{}).DRY_RUN="n",a.FORCE="f",a.IGNORED_INCLUDED="x",a.IGNORED_ONLY="X",a.EXCLUDING="e",a.QUIET="q",a.RECURSIVE="d",H=new Set(["i",...br(Object.values(G=a))])}});function*cb(a,b=null){let c=a.split("\0");for(let a=0,d=c.length-1;a<d;){let d=c[a++].replace(/^(file):/,""),e=c[a++],f=b;if(e.includes("\n")){let a=bf(e,"\n");f=a[0],e=a[1]}yield{file:d,key:f,value:e}}}var cc=a4({"src/lib/responses/ConfigList.ts"(){"use strict";bS(),I=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((a,b)=>Object.assign(a,this.values[b]),{})),this._all}addFile(a){if(!(a in this.values)){let b=bh(this.files);this.values[a]=b?Object.create(this.values[b]):{},this.files.push(a)}return this.values[a]}addValue(a,b,c){let d=this.addFile(a);d.hasOwnProperty(b)?Array.isArray(d[b])?d[b].push(c):d[b]=[d[b],c]:d[b]=c,this._all=void 0}}}});function cd(a,b){return"string"==typeof a&&J.hasOwnProperty(a)?a:b}var ce=a4({"src/lib/tasks/config.ts"(){"use strict";var a;cc(),bS(),(a=J||{}).system="system",a.global="global",a.local="local",a.worktree="worktree",J=a}}),cf=a4({"src/lib/tasks/diff-name-status.ts"(){"use strict";var a;(a=K||{}).ADDED="A",a.COPIED="C",a.DELETED="D",a.MODIFIED="M",a.RENAMED="R",a.CHANGED="T",a.UNMERGED="U",a.UNKNOWN="X",a.BROKEN="B",L=new Set(Object.values(K=a))}}),cg=a4({"src/lib/tasks/grep.ts"(){"use strict";bS(),b4(),M=["-h"],N=Symbol("grepQuery"),P=class{constructor(){this[O]=[]}*[(O=N,Symbol.iterator)](){for(let a of this[N])yield a}and(...a){return a.length&&this[N].push("--and","(",...bt(a,"-e"),")"),this}param(...a){return this[N].push(...bt(a,"-e")),this}}}}),ch={};function ci(a,b){let c=["reset"];return ck(a)&&c.push(`--${a}`),c.push(...b),b0(c)}function cj(a){if(ck(a))return a;switch(typeof a){case"string":case"undefined":return"soft"}}function ck(a){return R.includes(a)}a5(ch,{ResetMode:()=>Q,getResetMode:()=>cj,resetTask:()=>ci});var cl=a4({"src/lib/tasks/reset.ts"(){"use strict";var a;b4(),(a=Q||{}).MIXED="mixed",a.SOFT="soft",a.HARD="hard",a.MERGE="merge",a.KEEP="keep",R=Array.from(Object.values(Q=a))}});function cm(a,b,c){return b&&String(b).replace(/\s*/,"")?(d,...e)=>{a(`%s ${d}`,b,...e),c&&c(d,...e)}:c?(b,...d)=>{a(b,...d),c(b,...d)}:a}function cn(a,b,c,d=aY("simple-git")){let e=a&&`[${a}]`||"",f=[],g="string"==typeof b?d.extend(b):b,h=function(a,b,{namespace:c}){if("string"==typeof a)return a;let d=b&&b.namespace||"";return d.startsWith(c)?d.substr(c.length+1):d||c}(bz(b,m),g,d);return function b(c){let f=c&&`[${c}]`||"",h=g&&cm(g,f)||j,k=cm(d,`${e} ${f}`,h);return Object.assign(g?h:k,{label:a,sibling:i,info:k,step:b})}(c);function i(b,c){return bm(f,cn(a,h.replace(/^[^:]+/,b),c,d))}}var co=a4({"src/lib/git-logger.ts"(){"use strict";bS(),aY.formatters.L=a=>String(p(a)?a.length:"-"),aY.formatters.B=a=>Buffer.isBuffer(a)?a.toString("utf8"):k(a)}}),cp=a4({"src/lib/runners/tasks-pending-queue.ts"(){"use strict";ba(),co(),S=class a{constructor(a="GitExecutor"){this.logLabel=a,this._queue=new Map}withProgress(a){return this._queue.get(a)}createProgress(b){let c=a.getName(b.commands[0]);return{task:b,logger:cn(this.logLabel,c),name:c}}push(a){let b=this.createProgress(a);return b.logger("Adding task to the queue, commands = %o",a.commands),this._queue.set(a,b),b}fatal(a){for(let[b,{logger:c}]of Array.from(this._queue.entries()))b===a.task?(c.info("Failed %o",a),c("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):c.info("A fatal exception occurred in a previous task, the queue has been purged: %o",a.message),this.complete(b);if(0!==this._queue.size)throw Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(a){this.withProgress(a)&&this._queue.delete(a)}attempt(a){let b=this.withProgress(a);if(!b)throw new f(void 0,"TasksPendingQueue: attempt called for an unknown task");return b.logger("Starting task"),b}static getName(b="empty"){return`task:${b}:${++a.counter}`}static{this.counter=0}}}});function cq(a,b){return{method:bg(a.commands)||"",commands:b}}function cr(a,b,c,d){return e=>{c("%s received %L bytes",b,e),d("%B",e),a.push(e)}}var cs=a4({"src/lib/runners/git-executor-chain.ts"(){"use strict";ba(),b4(),bS(),cp(),T=class{constructor(a,b,c){this._executor=a,this._scheduler=b,this._plugins=c,this._chain=Promise.resolve(),this._queue=new S}get cwd(){return this._cwd||this._executor.cwd}set cwd(a){this._cwd=a}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(a){return this._queue.push(a),this._chain=this._chain.then(()=>this.attemptTask(a))}async attemptTask(a){let b=await this._scheduler.next(),c=()=>this._queue.complete(a);try{let{logger:b}=this._queue.attempt(a);return await (b3(a)?this.attemptEmptyTask(a,b):this.attemptRemoteTask(a,b))}catch(b){throw this.onFatalException(a,b)}finally{c(),b()}}onFatalException(a,b){let c=b instanceof f?Object.assign(b,{task:a}):new f(a,b&&String(b));return this._chain=Promise.resolve(),this._queue.fatal(c),c}async attemptRemoteTask(a,b){let c=this._plugins.exec("spawn.binary","",cq(a,a.commands)),d=this._plugins.exec("spawn.args",[...a.commands],cq(a,a.commands)),e=await this.gitResponse(a,c,d,this.outputHandler,b.step("SPAWN")),f=await this.handleTaskData(a,d,e,b.step("HANDLE"));return(b("passing response to task's parser as a %s",a.format),b2(a))?bO(a.parser,f):bO(a.parser,f.asStrings())}async attemptEmptyTask(a,b){return b("empty task bypassing child process to call to task's parser"),a.parser(this)}handleTaskData(a,b,c,d){let{exitCode:e,rejection:f,stdOut:g,stdErr:h}=c;return new Promise((i,j)=>{d("Preparing to handle process response exitCode=%d stdOut=",e);let{error:l}=this._plugins.exec("task.error",{error:f},{...cq(a,b),...c});return l&&a.onError?(d.info("exitCode=%s handling with custom error handler"),a.onError(c,l,a=>{d.info("custom error handler treated as success"),d("custom error returned a %s",k(a)),i(new r(Array.isArray(a)?Buffer.concat(a):a,Buffer.concat(h)))},j)):l?(d.info("handling as error: exitCode=%s stdErr=%s rejection=%o",e,h.length,f),j(l)):void(d.info("retrieving task output complete"),i(new r(Buffer.concat(g),Buffer.concat(h))))})}async gitResponse(a,b,c,d,e){let f=e.sibling("output"),g=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},cq(a,a.commands));return new Promise(h=>{let i=[],j=[];e.info("%s %o",b,c),e("%O",g);let k=this._beforeSpawn(a,c);if(k)return h({stdOut:i,stdErr:j,exitCode:9901,rejection:k});this._plugins.exec("spawn.before",void 0,{...cq(a,c),kill(a){k=a||k}});let l=(0,aZ.spawn)(b,c,g);l.stdout.on("data",cr(i,"stdOut",e,f.step("stdOut"))),l.stderr.on("data",cr(j,"stdErr",e,f.step("stdErr"))),l.on("error",a=>{e("[ERROR] child process exception %o",a),j.push(Buffer.from(String(a.stack),"ascii"))}),d&&(e("Passing child process stdOut/stdErr to custom outputHandler"),d(b,l.stdout,l.stderr,[...c])),this._plugins.exec("spawn.after",void 0,{...cq(a,c),spawned:l,close(a,b){h({stdOut:i,stdErr:j,exitCode:a,rejection:k||b})},kill(a){l.killed||(k=a,l.kill("SIGINT"))}})})}_beforeSpawn(a,b){let c;return this._plugins.exec("spawn.before",void 0,{...cq(a,b),kill(a){c=a||c}}),c}}}}),ct={};a5(ct,{GitExecutor:()=>U});var cu=a4({"src/lib/runners/git-executor.ts"(){"use strict";cs(),U=class{constructor(a,b,c){this.cwd=a,this._scheduler=b,this._plugins=c,this._chain=new T(this,this._scheduler,this._plugins)}chain(){return new T(this,this._scheduler,this._plugins)}push(a){return this._chain.push(a)}}}}),cv=a4({"src/lib/task-callback.ts"(){"use strict";bb(),bS()}});function cw(a,b){return b$(c=>{if(!bl(a))throw Error(`Git.cwd: cannot change to non-directory "${a}"`);return(b||c).cwd=a})}var cx=a4({"src/lib/tasks/change-working-directory.ts"(){"use strict";bS(),b4()}});function cy(a){let b=["checkout",...a];return"-b"===b[1]&&b.includes("-B")&&(b[1]=bo(b,"-B")),b0(b)}var cz=a4({"src/lib/tasks/checkout.ts"(){"use strict";bS(),b4()}}),cA=a4({"src/lib/tasks/count-objects.ts"(){"use strict";bS(),V=new s(/([a-z-]+): (\d+)$/,(a,[b,c])=>{let d=bq(b);a.hasOwnProperty(d)&&(a[d]=bs(c))})}});function cB(a){return bP({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},W,a)}var cC=a4({"src/lib/parsers/parse-commit.ts"(){"use strict";bS(),W=[new s(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(a,[b,c,d])=>{a.branch=b,a.commit=d,a.root=!!c}),new s(/\s*Author:\s(.+)/i,(a,[b])=>{let c=b.split("<"),d=c.pop();d&&d.includes("@")&&(a.author={email:d.substr(0,d.length-1),name:c.join("<").trim()})}),new s(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(a,[b,c,d])=>{a.summary.changes=parseInt(b,10)||0,a.summary.insertions=parseInt(c,10)||0,a.summary.deletions=parseInt(d,10)||0}),new s(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(a,[b,c,d])=>{a.summary.changes=parseInt(b,10)||0;let e=parseInt(c,10)||0;"-"===d?a.summary.deletions=e:"+"===d&&(a.summary.insertions=e)})]}}),cD=a4({"src/lib/tasks/commit.ts"(){"use strict";cC(),bS(),b4()}}),cE=a4({"src/lib/tasks/first-commit.ts"(){"use strict";bS(),b4()}}),cF=a4({"src/lib/tasks/hash-object.ts"(){"use strict";b4()}}),cG=a4({"src/lib/responses/InitSummary.ts"(){"use strict";X=class{constructor(a,b,c,d){this.bare=a,this.path=b,this.existing=c,this.gitDir=d}},Y=/^Init.+ repository in (.+)$/,Z=/^Rein.+ in (.+)$/}}),cH=a4({"src/lib/tasks/init.ts"(){"use strict";cG(),$="--bare"}});function cI(a){for(let b=0;b<a.length;b++){let c=_.exec(a[b]);if(c)return`--${c[1]}`}return""}function cJ(a){return _.test(a)}var cK=a4({"src/lib/args/log-format.ts"(){"use strict";_=/^--(stat|numstat|name-only|name-status)(=|$)/}}),cL=a4({"src/lib/responses/DiffSummary.ts"(){"use strict";aa=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function cM(a=""){let b=ae[a];return a=>bP(new aa,b,a,!1)}var cN=a4({"src/lib/parsers/parse-diff-summary.ts"(){"use strict";cK(),cL(),cf(),bS(),ab=[new s(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(a,[b,c,d=""])=>{a.files.push({file:b.trim(),changes:bs(c),insertions:d.replace(/[^+]/g,"").length,deletions:d.replace(/[^-]/g,"").length,binary:!1})}),new s(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(a,[b,c,d])=>{a.files.push({file:b.trim(),before:bs(c),after:bs(d),binary:!0})}),new s(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(a,[b,c])=>{let d=/(\d+) i/.exec(c),e=/(\d+) d/.exec(c);a.changed=bs(b),a.insertions=bs(d?.[1]),a.deletions=bs(e?.[1])})],ac=[new s(/(\d+)\t(\d+)\t(.+)$/,(a,[b,c,d])=>{let e=bs(b),f=bs(c);a.changed++,a.insertions+=e,a.deletions+=f,a.files.push({file:d,changes:e+f,insertions:e,deletions:f,binary:!1})}),new s(/-\t-\t(.+)$/,(a,[b])=>{a.changed++,a.files.push({file:b,after:0,before:0,binary:!0})})],ad=[new s(/(.+)$/,(a,[b])=>{a.changed++,a.files.push({file:b,changes:0,insertions:0,deletions:0,binary:!1})})],ae={"":ab,"--stat":ab,"--numstat":ac,"--name-status":[new s(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(a,[b,c,d,e,f])=>{a.changed++,a.files.push({file:f??d,changes:0,insertions:0,deletions:0,binary:!1,status:bx(L.has(b)&&b),from:bx(!!f&&d!==f&&d),similarity:bs(c)})})],"--name-only":ad}}});function cO(a=ah,b=ai,c=""){let d=cM(c);return function(c){let e=bj(c.trim(),!1,af).map(function(c){var e;let f=c.split(ag),g=(e=f[0].split(a),b.reduce((a,b,c)=>(a[b]=e[c]||"",a),Object.create({diff:null})));return f.length>1&&f[1].trim()&&(g.diff=d(f[1])),g});return{all:e,latest:e.length&&e[0]||null,total:e.length}}}var cP=a4({"src/lib/parsers/parse-list-log-summary.ts"(){"use strict";bS(),cN(),cK(),af="\xf2\xf2\xf2\xf2\xf2\xf2 ",ag=" \xf2\xf2",ah=" \xf2 ",ai=["hash","date","message","refs","author_name","author_email"]}}),cQ={};function cR(a){let b=cI(a),c=["diff"];return""===b&&(b="--stat",c.push("--stat=4096")),c.push(...a),cS(c)||{commands:c,format:"utf-8",parser:cM(b)}}function cS(a){let b=a.filter(cJ);return b.length>1?b_(`Summary flags are mutually exclusive - pick one of ${b.join(",")}`):b.length&&a.includes("-z")?b_(`Summary flag ${b} parsing is not compatible with null termination option '-z'`):void 0}a5(cQ,{diffSummaryTask:()=>cR,validateLogFormatConfig:()=>cS});var cT=a4({"src/lib/tasks/diff.ts"(){"use strict";cK(),cN(),b4()}});function cU(a={},b=[]){let c=bz(a.splitter,m,ah),[d,f]=function(a,b){let c=[],d=[];return Object.keys(a).forEach(b=>{c.push(b),d.push(String(a[b]))}),[c,d.join(b)]}(bB(a.format)?a.format:{hash:"%H",date:!1===a.strictDate?"%ai":"%aI",message:"%s",refs:"%D",body:a.multiLine?"%B":"%b",author_name:!1!==a.mailMap?"%aN":"%an",author_email:!1!==a.mailMap?"%aE":"%ae"},c),g=[],h=[`--pretty=format:${af}${f}${ag}`,...b],i=a.n||a["max-count"]||a.maxCount;if(i&&h.push(`--max-count=${i}`),a.from||a.to){let b=!1!==a.symmetric?"...":"..";g.push(`${a.from||""}${b}${a.to||""}`)}return m(a.file)&&h.push("--follow",function(...a){let b=new String(a);return e.set(b,a),b}(a.file)),bJ(Object.keys(a).reduce((b,c)=>(c in aj||(b[c]=a[c]),b),{}),h),{fields:d,splitter:c,commands:[...h,...g]}}var cV=a4({"src/lib/tasks/log.ts"(){"use strict";var a;cK(),a9(),cP(),bS(),b4(),cT(),(a=aj||{})[a["--pretty"]=0]="--pretty",a[a["max-count"]=1]="max-count",a[a.maxCount=2]="maxCount",a[a.n=3]="n",a[a.file=4]="file",a[a.format=5]="format",a[a.from=6]="from",a[a.to=7]="to",a[a.splitter=8]="splitter",a[a.symmetric=9]="symmetric",a[a.mailMap=10]="mailMap",a[a.multiLine=11]="multiLine",a[a.strictDate=12]="strictDate",aj=a}}),cW=a4({"src/lib/responses/MergeSummary.ts"(){"use strict";ak=class{constructor(a,b=null,c){this.reason=a,this.file=b,this.meta=c}toString(){return`${this.file}:${this.reason}`}},al=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),cX=a4({"src/lib/responses/PullSummary.ts"(){"use strict";am=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},an=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function cY(a){return a.objects=a.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function cZ(a){let b=/^\s*(\d+)/.exec(a),c=/delta (\d+)/i.exec(a);return{count:bs(b&&b[1]||"0"),delta:bs(c&&c[1]||"0")}}var c$=a4({"src/lib/parsers/parse-remote-objects.ts"(){"use strict";bS(),ao=[new t(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(a,[b,c])=>{let d=b.toLowerCase();Object.assign(cY(a.remoteMessages),{[d]:bs(c)})}),new t(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(a,[b,c])=>{let d=b.toLowerCase();Object.assign(cY(a.remoteMessages),{[d]:bs(c)})}),new t(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(a,[b,c,d])=>{let e=cY(a.remoteMessages);e.total=cZ(b),e.reused=cZ(c),e.packReused=bs(d)})]}});function c_(a,b){return bP({remoteMessages:new aq},ap,b)}var c0=a4({"src/lib/parsers/parse-remote-messages.ts"(){"use strict";bS(),c$(),ap=[new t(/^remote:\s*(.+)$/,(a,[b])=>(a.remoteMessages.all.push(b.trim()),!1)),...ao,new t([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(a,[b])=>{a.remoteMessages.pullRequestUrl=b}),new t([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(a,[b,c,d])=>{a.remoteMessages.vulnerabilities={count:bs(b),summary:c,url:d}})],aq=class{constructor(){this.all=[]}}}}),c1=a4({"src/lib/parsers/parse-pull.ts"(){"use strict";cX(),bS(),c0(),ar=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,as=/^(create|delete) mode \d+ (.+)/,at=[new s(/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,(a,[b,c,d])=>{a.files.push(b),c&&(a.insertions[b]=c.length),d&&(a.deletions[b]=d.length)}),new s(ar,(a,[b,,c,,d])=>(void 0!==c||void 0!==d)&&(a.summary.changes=+b||0,a.summary.insertions=+c||0,a.summary.deletions=+d||0,!0)),new s(as,(a,[b,c])=>{bm(a.files,c),bm("create"===b?a.created:a.deleted,c)})],au=[new s(/^from\s(.+)$/i,(a,[b])=>void(a.remote=b)),new s(/^fatal:\s(.+)$/,(a,[b])=>void(a.message=b)),new s(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(a,[b,c,d,e])=>{a.branch.local=d,a.hash.local=b,a.branch.remote=e,a.hash.remote=c})],av=(a,b)=>Object.assign(new am,bP(new am,at,[a,b]),c_(a,b))}}),c2=a4({"src/lib/parsers/parse-merge.ts"(){"use strict";cW(),bS(),c1(),aw=[new s(/^Auto-merging\s+(.+)$/,(a,[b])=>{a.merges.push(b)}),new s(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(a,[b,c])=>{a.conflicts.push(new ak(b,c))}),new s(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(a,[b,c,d])=>{a.conflicts.push(new ak(b,c,{deleteRef:d}))}),new s(/^CONFLICT\s+\((.+)\):/,(a,[b])=>{a.conflicts.push(new ak(b,null))}),new s(/^Automatic merge failed;\s+(.+)$/,(a,[b])=>{a.result=b})],ax=(a,b)=>Object.assign(ay(a,b),av(a,b)),ay=a=>bP(new al,aw,a)}});function c3(a){return a.length?{commands:["merge",...a],format:"utf-8",parser(a,b){let c=ax(a,b);if(c.failed)throw new g(c);return c}}:b_("Git.merge requires at least one option")}var c4=a4({"src/lib/tasks/merge.ts"(){"use strict";bb(),c2(),b4()}}),c5=a4({"src/lib/parsers/parse-push.ts"(){"use strict";bS(),c0(),az=[new s(/^Pushing to (.+)$/,(a,[b])=>{a.repo=b}),new s(/^updating local tracking ref '(.+)'/,(a,[b])=>{a.ref={...a.ref||{},local:b}}),new s(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(a,[b,c,d])=>{a.pushed.push(function(a,b,c){let d=c.includes("deleted"),e=c.includes("tag")||/^refs\/tags/.test(a),f=!c.includes("new");return{deleted:d,tag:e,branch:!e,new:!f,alreadyUpdated:f,local:a,remote:b}}(b,c,d))}),new s(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(a,[b,c,d])=>{a.branch={...a.branch||{},local:b,remote:c,remoteName:d}}),new s(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(a,[b,c,d,e])=>{a.update={head:{local:b,remote:c},hash:{from:d,to:e}}})],aA=(a,b)=>{let c=aB(a,b),d=c_(a,b);return{...c,...d}},aB=(a,b)=>bP({pushed:[]},az,[a,b])}}),c6={};function c7(a={},b){return bm(b,"--tags"),c8(a,b)}function c8(a={},b){let c=["push",...b];return a.branch&&c.splice(1,0,a.branch),a.remote&&c.splice(1,0,a.remote),bo(c,"-v"),bm(c,"--verbose"),bm(c,"--porcelain"),{commands:c,format:"utf-8",parser:aA}}a5(c6,{pushTagsTask:()=>c7,pushTask:()=>c8});var c9=a4({"src/lib/tasks/push.ts"(){"use strict";c5(),bS()}}),da=a4({"src/lib/tasks/show.ts"(){"use strict";bS(),b4()}}),db=a4({"src/lib/responses/FileStatusSummary.ts"(){"use strict";aC=/^(.+)\0(.+)$/,aD=class{constructor(a,b,c){if(this.path=a,this.index=b,this.working_dir=c,"R"===b||"R"===c){let b=aC.exec(a)||[null,a,a];this.from=b[2]||"",this.path=b[1]||""}}}}});function dc(a){let[b,c]=a.split(i);return{from:c||b,to:b}}function dd(a,b,c){return[`${a}${b}`,c]}function de(a,...b){return b.map(b=>dd(a,b,(a,b)=>bm(a.conflicted,b)))}var df=a4({"src/lib/responses/StatusSummary.ts"(){"use strict";bS(),db(),aE=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},aF=new Map([dd(" ","A",(a,b)=>bm(a.created,b)),dd(" ","D",(a,b)=>bm(a.deleted,b)),dd(" ","M",(a,b)=>bm(a.modified,b)),dd("A"," ",(a,b)=>bm(a.created,b)&&bm(a.staged,b)),dd("A","M",(a,b)=>bm(a.created,b)&&bm(a.staged,b)&&bm(a.modified,b)),dd("D"," ",(a,b)=>bm(a.deleted,b)&&bm(a.staged,b)),dd("M"," ",(a,b)=>bm(a.modified,b)&&bm(a.staged,b)),dd("M","M",(a,b)=>bm(a.modified,b)&&bm(a.staged,b)),dd("R"," ",(a,b)=>{bm(a.renamed,dc(b))}),dd("R","M",(a,b)=>{let c=dc(b);bm(a.renamed,c),bm(a.modified,c.to)}),dd("!","!",(a,b)=>{bm(a.ignored=a.ignored||[],b)}),dd("?","?",(a,b)=>bm(a.not_added,b)),...de("A","A","U"),...de("D","D","U"),...de("U","A","D","U"),["##",(a,b)=>{let c;a.ahead=(c=/ahead (\d+)/.exec(b))&&+c[1]||0,a.behind=(c=/behind (\d+)/.exec(b))&&+c[1]||0,a.current=(c=/^(.+?(?=(?:\.{3}|\s|$)))/.exec(b))&&c[1],a.tracking=(c=/\.{3}(\S*)/.exec(b))&&c[1],a.current=(c=/\son\s([\S]+)$/.exec(b))&&c[1]||a.current,a.detached=/\(no branch\)/.test(b)}]]),aG=function(a){let b=a.split(i),c=new aE;for(let a=0,d=b.length;a<d;){let d=b[a++].trim();d&&("R"===d.charAt(0)&&(d+=i+(b[a++]||"")),function(a,b){let c=b.trim();switch(" "){case c.charAt(2):return d(c.charAt(0),c.charAt(1),c.substr(3));case c.charAt(1):return d(" ",c.charAt(0),c.substr(2));default:return}function d(b,c,d){let e=`${b}${c}`,f=aF.get(e);f&&f(a,d),"##"!==e&&"!!"!==e&&a.files.push(new aD(d,b,c))}}(c,d))}return c}}}),dg=a4({"src/lib/tasks/status.ts"(){"use strict";df(),aH=["--null","-z"]}});function dh(a=0,b=0,c=0,d="",e=!0){return Object.defineProperty({major:a,minor:b,patch:c,agent:d,installed:e},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function di(a){return a===aI?dh(0,0,0,"",!1):bP(dh(0,0,0,a),aJ,a)}var dj=a4({"src/lib/tasks/version.ts"(){"use strict";bS(),aI="installed=false",aJ=[new s(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(a,[b,c,d,e=""])=>{Object.assign(a,dh(bs(b),bs(c),bs(d),e))}),new s(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(a,[b,c,d,e=""])=>{Object.assign(a,dh(bs(b),bs(c),d,e))})]}}),dk={};a5(dk,{SimpleGitApi:()=>aK});var dl=a4({"src/lib/simple-git-api.ts"(){"use strict";cv(),cx(),cz(),cA(),cD(),ce(),cE(),cg(),cF(),cH(),cV(),c4(),c9(),da(),dg(),b4(),dj(),bS(),Object.assign((aK=class{constructor(a){this._executor=a}_runTask(a,b){let c=this._executor.chain(),d=c.push(a);return b&&function(a,b,c=j){b.then(a=>{c(null,a)},b=>{var d;let e;b?.task===a&&c(b instanceof g?(d=b,e=a=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${a} should be GitResponseError.git.${a}, this will no longer be available in version 3`),e=j},Object.create(d,Object.getOwnPropertyNames(d.git).reduce(function(a,b){return b in d||(a[b]={enumerable:!1,configurable:!1,get:()=>(e(b),d.git[b])}),a},{}))):b,void 0)})}(a,d,b),Object.create(this,{then:{value:d.then.bind(d)},catch:{value:d.catch.bind(d)},_executor:{value:c}})}add(a){return this._runTask(b0(["add",...bp(a)]),bM(arguments))}cwd(a){let b=bM(arguments);return"string"==typeof a?this._runTask(cw(a,this._executor),b):"string"==typeof a?.path?this._runTask(cw(a.path,a.root&&this._executor||void 0),b):this._runTask(b_("Git.cwd: workingDirectory must be supplied as a string"),b)}hashObject(a,b){return this._runTask(function(a,b){let c=["hash-object",a];return b&&c.push("-w"),b0(c,!0)}(a,!0===b),bM(arguments))}init(a){return this._runTask(function(a=!1,b,c){let d=["init",...c];return a&&!d.includes($)&&d.splice(1,0,$),{commands:d,format:"utf-8",parser:a=>(function(a,b,c){let d,e=String(c).trim();if(d=Y.exec(e))return new X(a,b,!1,d[1]);if(d=Z.exec(e))return new X(a,b,!0,d[1]);let f="",g=e.split(" ");for(;g.length;)if("in"===g.shift()){f=g.join(" ");break}return new X(a,b,/^re/i.test(e),f)})(d.includes("--bare"),b,a)}}(!0===a,this._executor.cwd,bK(arguments)),bM(arguments))}merge(){return this._runTask(c3(bK(arguments)),bM(arguments))}mergeFromTo(a,b){return m(a)&&m(b)?this._runTask(c3([a,b,...bK(arguments)]),bM(arguments,!1)):this._runTask(b_("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(a){return this._executor.outputHandler=a,this}push(){let a=c8({remote:bz(arguments[0],m),branch:bz(arguments[1],m)},bK(arguments));return this._runTask(a,bM(arguments))}stash(){return this._runTask(b0(["stash",...bK(arguments)]),bM(arguments))}status(){var a;return this._runTask((a=bK(arguments),{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...a.filter(a=>!aH.includes(a))],parser:a=>aG(a)}),bM(arguments))}}).prototype,{checkout(){return this._runTask(cy(bK(arguments,1)),bM(arguments))},checkoutBranch(a,b){return this._runTask(cy(["-b",a,b,...bK(arguments)]),bM(arguments))},checkoutLocalBranch(a){return this._runTask(cy(["-b",a,...bK(arguments)]),bM(arguments))}},{commit(a,...b){var c,d,e;let f=bM(arguments),g=!o(a)&&b_("git.commit: requires the commit message to be supplied as a string/string[]")||(c=bp(a),d=bp(bz(b[0],o,[])),e=[...bz(b[1],l,[]),...bK(arguments,0,!0)],{commands:["-c","core.abbrev=40","commit",...bt(c,"-m"),...d,...e],format:"utf-8",parser:cB});return this._runTask(g,f)}},{addConfig(a,b,...c){return this._runTask(function(a,b,c,d){let e=["config",`--${d}`];return c&&e.push("--add"),e.push(a,b),{commands:e,format:"utf-8",parser:a=>a}}(a,b,!0===c[0],cd(c[1],"local")),bM(arguments))},getConfig(a,b){return this._runTask(function(a,b){let c=["config","--null","--show-origin","--get-all",a];return b&&c.splice(1,0,`--${b}`),{commands:c,format:"utf-8",parser:b=>(function(a,b){let c=null,d=[],e=new Map;for(let f of cb(a,b))f.key===b&&(d.push(c=f.value),e.has(f.file)||e.set(f.file,[]),e.get(f.file).push(c));return{key:b,paths:Array.from(e.keys()),scopes:e,value:c,values:d}})(b,a)}}(a,cd(b,void 0)),bM(arguments))},listConfig(...a){return this._runTask(function(a){let b=["config","--list","--show-origin","--null"];return a&&b.push(`--${a}`),{commands:b,format:"utf-8",parser:a=>(function(a){let b=new I;for(let c of cb(a))b.addValue(c.file,String(c.key),c.value);return b})(a)}}(cd(a[0],void 0)),bM(arguments))}},{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser:a=>bP({count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0},[V],a)})}},{firstCommit(){return this._runTask(b0(["rev-list","--max-parents=0","HEAD"],!0),bM(arguments))}},{grep(a){let b=bM(arguments),c=bK(arguments);for(let a of M)if(c.includes(a))return this._runTask(b_(`git.grep: use of "${a}" is not supported.`),b);"string"==typeof a&&(a=(function(...a){return new P().param(...a)})().param(a));let d=["grep","--null","-n","--full-name",...c,...a];return this._runTask({commands:d,format:"utf-8",parser:a=>(function(a){let b=new Set,c={};return bk(a,a=>{let[d,e,f]=a.split(i);b.add(d),(c[d]=c[d]||[]).push({line:bs(e),path:d,preview:f})}),{paths:b,results:c}})(a)},b)}},{log(...a){var b;let c=bM(arguments),d=cU(bL(arguments),bz(arguments[0],l)),e=function(a,b){return m(a)&&m(b)&&b_("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}(...a)||cS(d.commands)||function(a,b,c){let d=cO(a,b,cI(c));return{commands:["log",...c],format:"utf-8",parser:d}}((b=d).splitter,b.fields,b.commands);return this._runTask(e,c)}},{showBuffer(){let a=["show",...bK(arguments,1)];return a.includes("--binary")||a.splice(1,0,"--binary"),this._runTask(b1(a),bM(arguments))},show(){let a=["show",...bK(arguments,1)];return this._runTask(b0(a),bM(arguments))}},{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:di,onError(a,b,c,d){if(-2===a.exitCode)return c(Buffer.from(aI));d(b)}})}})}}),dm={};a5(dm,{Scheduler:()=>aL});var dn=a4({"src/lib/runners/scheduler.ts"(){"use strict";let a;bS(),co(),a=0,aL=class{constructor(a=2){this.concurrency=a,this.logger=cn("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",a)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency)return void this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);let a=bm(this.running,this.pending.shift());this.logger("Attempting id=%s",a.id),a.done(()=>{this.logger("Completing id=",a.id),bo(this.running,a),this.schedule()})}next(){let{promise:b,id:c}=bm(this.pending,(()=>{a++;let{promise:b,done:c}=(0,a$.ud)();return{promise:b,done:c,id:a}})());return this.logger("Scheduling id=%s",c),this.schedule(),b}}}}),dp={};function dq(a,b){return b0(["apply",...b,...a])}a5(dp,{applyPatchTask:()=>dq});var dr=a4({"src/lib/tasks/apply-patch.ts"(){"use strict";b4()}}),ds=a4({"src/lib/responses/BranchDeleteSummary.ts"(){"use strict";aM=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function dt(a,b){return 1===b&&aN.test(a)}var du=a4({"src/lib/parsers/parse-branch-delete.ts"(){"use strict";ds(),bS(),aN=/^error[^']+'([^']+)'/m,aO=[new s(/(\S+)\s+\(\S+\s([^)]+)\)/,(a,[b,c])=>{let d={branch:b,hash:c,success:!0};a.all.push(d),a.branches[b]=d}),new s(aN,(a,[b])=>{let c={branch:b,hash:null,success:!1};a.errors.push(c),a.all.push(c),a.branches[b]=c})],aP=(a,b)=>bP(new aM,aO,[a,b])}}),dv=a4({"src/lib/responses/BranchSummary.ts"(){"use strict";aQ=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(a,b,c,d,e){"*"===a&&(this.detached=b,this.current=c),this.all.push(c),this.branches[c]={current:"*"===a,linkedWorkTree:"+"===a,name:c,commit:d,label:e}}}}});function dw(a){return a?a.charAt(0):""}function dx(a){return bP(new aQ,aR,a)}var dy=a4({"src/lib/parsers/parse-branch.ts"(){"use strict";dv(),bS(),aR=[new s(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(a,[b,c,d,e])=>{a.push(dw(b),!0,c,d,e)}),new s(/^([*+]\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(a,[b,c,d,e])=>{a.push(dw(b),!1,c,d,e)})]}}),dz={};function dA(a){let b=["-d","-D","--delete"];return a.some(a=>b.includes(a))}function dB(a){let b=dA(a),c=["branch",...a];return 1===c.length&&c.push("-a"),c.includes("-v")||c.splice(1,0,"-v"),{format:"utf-8",commands:c,parser:(a,c)=>b?aP(a,c).all[0]:dx(a)}}function dC(){return{format:"utf-8",commands:["branch","-v"],parser:dx}}function dD(a,b=!1){return{format:"utf-8",commands:["branch","-v",b?"-D":"-d",...a],parser:(a,b)=>aP(a,b),onError({exitCode:a,stdOut:b},c,d,e){if(!dt(String(c),a))return e(c);d(b)}}}function dE(a,b=!1){let c={format:"utf-8",commands:["branch","-v",b?"-D":"-d",a],parser:(b,c)=>aP(b,c).branches[a],onError({exitCode:a,stdErr:b,stdOut:d},e,f,h){if(!dt(String(e),a))return h(e);throw new g(c.parser(bu(d),bu(b)),String(e))}};return c}a5(dz,{branchLocalTask:()=>dC,branchTask:()=>dB,containsDeleteBranchCommand:()=>dA,deleteBranchTask:()=>dE,deleteBranchesTask:()=>dD});var dF=a4({"src/lib/tasks/branch.ts"(){"use strict";bb(),du(),dy(),bS()}}),dG=a4({"src/lib/responses/CheckIgnore.ts"(){"use strict";aS=a=>a.split(/\n/g).map(a=>a.trim()).filter(a=>!!a)}}),dH={};function dI(a){return{commands:["check-ignore",...a],format:"utf-8",parser:aS}}a5(dH,{checkIgnoreTask:()=>dI});var dJ=a4({"src/lib/tasks/check-ignore.ts"(){"use strict";dG()}}),dK={};function dL(a){return/^--upload-pack(=|$)/.test(a)}function dM(a,b,c){let d=["clone",...c];return(m(a)&&d.push(a),m(b)&&d.push(b),d.find(dL))?b_("git.fetch: potential exploit argument blocked."):b0(d)}function dN(a,b,c){return bm(c,"--mirror"),dM(a,b,c)}a5(dK,{cloneMirrorTask:()=>dN,cloneTask:()=>dM});var dO=a4({"src/lib/tasks/clone.ts"(){"use strict";b4(),bS()}});function dP(a,b){return bP({raw:a,remote:null,branches:[],tags:[],updated:[],deleted:[]},aT,[a,b])}var dQ=a4({"src/lib/parsers/parse-fetch.ts"(){"use strict";bS(),aT=[new s(/From (.+)$/,(a,[b])=>{a.remote=b}),new s(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(a,[b,c])=>{a.branches.push({name:b,tracking:c})}),new s(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(a,[b,c])=>{a.tags.push({name:b,tracking:c})}),new s(/- \[deleted]\s+\S+\s*-> (.+)$/,(a,[b])=>{a.deleted.push({tracking:b})}),new s(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(a,[b,c,d,e])=>{a.updated.push({name:d,tracking:e,to:c,from:b})})]}}),dR={};function dS(a){return/^--upload-pack(=|$)/.test(a)}function dT(a,b,c){let d=["fetch",...c];return(a&&b&&d.push(a,b),d.find(dS))?b_("git.fetch: potential exploit argument blocked."):{commands:d,format:"utf-8",parser:dP}}a5(dR,{fetchTask:()=>dT});var dU=a4({"src/lib/tasks/fetch.ts"(){"use strict";dQ(),b4()}});function dV(a){return bP({moves:[]},aU,a)}var dW=a4({"src/lib/parsers/parse-move.ts"(){"use strict";bS(),aU=[new s(/^Renaming (.+) to (.+)$/,(a,[b,c])=>{a.moves.push({from:b,to:c})})]}}),dX={};function dY(a,b){return{commands:["mv","-v",...bp(a),b],format:"utf-8",parser:dV}}a5(dX,{moveTask:()=>dY});var dZ=a4({"src/lib/tasks/move.ts"(){"use strict";dW(),bS()}}),d$={};function d_(a,b,c){let d=["pull",...c];return a&&b&&d.splice(1,0,a,b),{commands:d,format:"utf-8",parser:(a,b)=>av(a,b),onError(a,b,c,d){let e=function(a,b){let c=bP(new an,au,[a,b]);return c.message&&c}(bu(a.stdOut),bu(a.stdErr));if(e)return d(new g(e));d(b)}}}a5(d$,{pullTask:()=>d_});var d0=a4({"src/lib/tasks/pull.ts"(){"use strict";bb(),c1(),bS()}});function d1(a){let b={};return d3(a,([a])=>b[a]={name:a}),Object.values(b)}function d2(a){let b={};return d3(a,([a,c,d])=>{b.hasOwnProperty(a)||(b[a]={name:a,refs:{fetch:"",push:""}}),d&&c&&(b[a].refs[d.replace(/[^a-z]/g,"")]=c)}),Object.values(b)}function d3(a,b){bk(a,a=>b(a.split(/\s+/)))}var d4=a4({"src/lib/responses/GetRemoteSummary.ts"(){"use strict";bS()}}),d5={};function d6(a,b,c){return b0(["remote","add",...c,a,b])}function d7(a){let b=["remote"];return a&&b.push("-v"),{commands:b,format:"utf-8",parser:a?d2:d1}}function d8(a){let b=[...a];return"ls-remote"!==b[0]&&b.unshift("ls-remote"),b0(b)}function d9(a){let b=[...a];return"remote"!==b[0]&&b.unshift("remote"),b0(b)}function ea(a){return b0(["remote","remove",a])}a5(d5,{addRemoteTask:()=>d6,getRemotesTask:()=>d7,listRemotesTask:()=>d8,remoteTask:()=>d9,removeRemoteTask:()=>ea});var eb=a4({"src/lib/tasks/remote.ts"(){"use strict";d4(),b4()}}),ec={};function ed(a={},b){let c=cU(a),d=["stash","list",...c.commands,...b],e=cO(c.splitter,c.fields,cI(d));return cS(d)||{commands:d,format:"utf-8",parser:e}}a5(ec,{stashListTask:()=>ed});var ee=a4({"src/lib/tasks/stash-list.ts"(){"use strict";cK(),cP(),cT(),cV()}}),ef={};function eg(a,b){return ei(["add",a,b])}function eh(a){return ei(["init",...a])}function ei(a){let b=[...a];return"submodule"!==b[0]&&b.unshift("submodule"),b0(b)}function ej(a){return ei(["update",...a])}a5(ef,{addSubModuleTask:()=>eg,initSubModuleTask:()=>eh,subModuleTask:()=>ei,updateSubModuleTask:()=>ej});var ek=a4({"src/lib/tasks/sub-module.ts"(){"use strict";b4()}});function el(a,b){return a===b?0:a>b?1:-1}function em(a){return a.trim()}function en(a){return"string"==typeof a&&parseInt(a.replace(/^\D+/g,""),10)||0}var eo=a4({"src/lib/responses/TagList.ts"(){"use strict";aV=class{constructor(a,b){this.all=a,this.latest=b}},aW=function(a,b=!1){let c=a.split("\n").map(em).filter(Boolean);b||c.sort(function(a,b){let c=a.split("."),d=b.split(".");if(1===c.length||1===d.length)return function(a,b){let c=isNaN(a);return c!==isNaN(b)?c?1:-1:c?el(a,b):0}(en(c[0]),en(d[0]));for(let a=0,b=Math.max(c.length,d.length);a<b;a++){let b=el(en(c[a]),en(d[a]));if(b)return b}return 0});let d=b?c[0]:[...c].reverse().find(a=>a.indexOf(".")>=0);return new aV(c,d)}}}),ep={};function eq(a=[]){let b=a.some(a=>/^--sort=/.test(a));return{format:"utf-8",commands:["tag","-l",...a],parser:a=>aW(a,b)}}function er(a){return{format:"utf-8",commands:["tag",a],parser:()=>({name:a})}}function es(a,b){return{format:"utf-8",commands:["tag","-a","-m",b,a],parser:()=>({name:a})}}a5(ep,{addAnnotatedTagTask:()=>es,addTagTask:()=>er,tagListTask:()=>eq});var et=a4({"src/lib/tasks/tag.ts"(){"use strict";eo()}}),eu=((a,b)=>function(){return b||(0,a[a2(a)[0]])((b={exports:{}}).exports,b),b.exports})({"src/git.js"(a,b){"use strict";var{GitExecutor:c}=(cu(),a6(ct)),{SimpleGitApi:d}=(dl(),a6(dk)),{Scheduler:e}=(dn(),a6(dm)),{configurationErrorTask:f}=(b4(),a6(bZ)),{asArray:g,filterArray:h,filterPrimitives:i,filterString:j,filterStringOrStringArray:k,filterType:l,getTrailingOptions:m,trailingFunctionArgument:n,trailingOptionsArgument:o}=(bS(),a6(bR)),{applyPatchTask:p}=(dr(),a6(dp)),{branchTask:q,branchLocalTask:r,deleteBranchesTask:s,deleteBranchTask:t}=(dF(),a6(dz)),{checkIgnoreTask:u}=(dJ(),a6(dH)),{checkIsRepoTask:v}=(bX(),a6(bT)),{cloneTask:w,cloneMirrorTask:x}=(dO(),a6(dK)),{cleanWithOptionsTask:y,isCleanOptionsArray:z}=(ca(),a6(b5)),{diffSummaryTask:A}=(cT(),a6(cQ)),{fetchTask:B}=(dU(),a6(dR)),{moveTask:C}=(dZ(),a6(dX)),{pullTask:D}=(d0(),a6(d$)),{pushTagsTask:E}=(c9(),a6(c6)),{addRemoteTask:F,getRemotesTask:G,listRemotesTask:H,remoteTask:I,removeRemoteTask:J}=(eb(),a6(d5)),{getResetMode:K,resetTask:L}=(cl(),a6(ch)),{stashListTask:M}=(ee(),a6(ec)),{addSubModuleTask:N,initSubModuleTask:O,subModuleTask:P,updateSubModuleTask:Q}=(ek(),a6(ef)),{addAnnotatedTagTask:R,addTagTask:S,tagListTask:T}=(et(),a6(ep)),{straightThroughBufferTask:U,straightThroughStringTask:V}=(b4(),a6(bZ));function W(a,b){this._plugins=b,this._executor=new c(a.baseDir,new e(a.maxConcurrentProcesses),b),this._trimmed=a.trimmed}function X(a,b,c,d){return"string"!=typeof c?f(`git.${a}() requires a string 'repoPath'`):b(c,l(d,j),m(arguments))}(W.prototype=Object.create(d.prototype)).constructor=W,W.prototype.customBinary=function(a){return this._plugins.reconfigure("binary",a),this},W.prototype.env=function(a,b){return 1==arguments.length&&"object"==typeof a?this._executor.env=a:(this._executor.env=this._executor.env||{})[a]=b,this},W.prototype.stashList=function(a){return this._runTask(M(o(arguments)||{},h(a)&&a||[]),n(arguments))},W.prototype.clone=function(){return this._runTask(X("clone",w,...arguments),n(arguments))},W.prototype.mirror=function(){return this._runTask(X("mirror",x,...arguments),n(arguments))},W.prototype.mv=function(a,b){return this._runTask(C(a,b),n(arguments))},W.prototype.checkoutLatestTag=function(a){var b=this;return this.pull(function(){b.tags(function(c,d){b.checkout(d.latest,a)})})},W.prototype.pull=function(a,b,c,d){return this._runTask(D(l(a,j),l(b,j),m(arguments)),n(arguments))},W.prototype.fetch=function(a,b){return this._runTask(B(l(a,j),l(b,j),m(arguments)),n(arguments))},W.prototype.silent=function(a){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},W.prototype.tags=function(a,b){return this._runTask(T(m(arguments)),n(arguments))},W.prototype.rebase=function(){return this._runTask(V(["rebase",...m(arguments)]),n(arguments))},W.prototype.reset=function(a){return this._runTask(L(K(a),m(arguments)),n(arguments))},W.prototype.revert=function(a){let b=n(arguments);return"string"!=typeof a?this._runTask(f("Commit must be a string"),b):this._runTask(V(["revert",...m(arguments,0,!0),a]),b)},W.prototype.addTag=function(a){let b="string"==typeof a?S(a):f("Git.addTag requires a tag name");return this._runTask(b,n(arguments))},W.prototype.addAnnotatedTag=function(a,b){return this._runTask(R(a,b),n(arguments))},W.prototype.deleteLocalBranch=function(a,b,c){return this._runTask(t(a,"boolean"==typeof b&&b),n(arguments))},W.prototype.deleteLocalBranches=function(a,b,c){return this._runTask(s(a,"boolean"==typeof b&&b),n(arguments))},W.prototype.branch=function(a,b){return this._runTask(q(m(arguments)),n(arguments))},W.prototype.branchLocal=function(a){return this._runTask(r(),n(arguments))},W.prototype.raw=function(a){let b=!Array.isArray(a),c=[].slice.call(b?arguments:a,0);for(let a=0;a<c.length&&b;a++)if(!i(c[a])){c.splice(a,c.length-a);break}c.push(...m(arguments,0,!0));var d=n(arguments);return c.length?this._runTask(V(c,this._trimmed),d):this._runTask(f("Raw: must supply one or more command to execute"),d)},W.prototype.submoduleAdd=function(a,b,c){return this._runTask(N(a,b),n(arguments))},W.prototype.submoduleUpdate=function(a,b){return this._runTask(Q(m(arguments,!0)),n(arguments))},W.prototype.submoduleInit=function(a,b){return this._runTask(O(m(arguments,!0)),n(arguments))},W.prototype.subModule=function(a,b){return this._runTask(P(m(arguments)),n(arguments))},W.prototype.listRemote=function(){return this._runTask(H(m(arguments)),n(arguments))},W.prototype.addRemote=function(a,b,c){return this._runTask(F(a,b,m(arguments)),n(arguments))},W.prototype.removeRemote=function(a,b){return this._runTask(J(a),n(arguments))},W.prototype.getRemotes=function(a,b){return this._runTask(G(!0===a),n(arguments))},W.prototype.remote=function(a,b){return this._runTask(I(m(arguments)),n(arguments))},W.prototype.tag=function(a,b){let c=m(arguments);return"tag"!==c[0]&&c.unshift("tag"),this._runTask(V(c),n(arguments))},W.prototype.updateServerInfo=function(a){return this._runTask(V(["update-server-info"]),n(arguments))},W.prototype.pushTags=function(a,b){let c=E({remote:l(a,j)},m(arguments));return this._runTask(c,n(arguments))},W.prototype.rm=function(a){return this._runTask(V(["rm","-f",...g(a)]),n(arguments))},W.prototype.rmKeepLocal=function(a){return this._runTask(V(["rm","--cached",...g(a)]),n(arguments))},W.prototype.catFile=function(a,b){return this._catFile("utf-8",arguments)},W.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},W.prototype._catFile=function(a,b){var c=n(b),d=["cat-file"],e=b[0];if("string"==typeof e)return this._runTask(f("Git.catFile: options must be supplied as an array of strings"),c);Array.isArray(e)&&d.push.apply(d,e);let g="buffer"===a?U(d):V(d);return this._runTask(g,c)},W.prototype.diff=function(a,b){let c=j(a)?f("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):V(["diff",...m(arguments)]);return this._runTask(c,n(arguments))},W.prototype.diffSummary=function(){return this._runTask(A(m(arguments,1)),n(arguments))},W.prototype.applyPatch=function(a){let b=k(a)?p(g(a),m([].slice.call(arguments,1))):f("git.applyPatch requires one or more string patches as the first argument");return this._runTask(b,n(arguments))},W.prototype.revparse=function(){let a=["rev-parse",...m(arguments,!0)];return this._runTask(V(a,!0),n(arguments))},W.prototype.clean=function(a,b,c){let d=z(a),e=d&&a.join("")||l(a,j)||"",f=m([].slice.call(arguments,+!!d));return this._runTask(y(e,f),n(arguments))},W.prototype.exec=function(a){return this._runTask({commands:[],format:"utf-8",parser(){"function"==typeof a&&a()}})},W.prototype.clearQueue=function(){return this},W.prototype.checkIgnore=function(a,b){return this._runTask(u(g(l(a,k,[]))),n(arguments))},W.prototype.checkIsRepo=function(a,b){return this._runTask(v(l(a,j)),n(arguments))},b.exports=W}});a9(),ba();var ev=class extends f{constructor(a,b){super(void 0,b),this.config=a}};ba(),ba();var ew=class extends f{constructor(a,b,c){super(a,c),this.task=a,this.plugin=b,Object.setPrototypeOf(this,new.target.prototype)}};bb(),bc(),bX(),ca(),ce(),cf(),cg(),cl(),bS(),bS();var ex=(0,a$.yX)().promise;bS();var ey="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function ez(a){return!a||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(a)}function eA(a,b){if(a.length<1||a.length>2)throw new ew(void 0,"binary","Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings");if(a.some(ez))if(b)console.warn(ey);else throw new ew(void 0,"binary",ey);let[c,d]=a;return{binary:c,prefix:d}}function eB(a){return{type:"task.error",action(b,c){let d=a(b.error,{stdErr:c.stdErr,stdOut:c.stdOut,exitCode:c.exitCode});return Buffer.isBuffer(d)?{error:new f(void 0,d.toString("utf-8"))}:{error:d}}}}ba(),bS();var eC=class{constructor(){this.plugins=new Set,this.events=new a_.EventEmitter}on(a,b){this.events.on(a,b)}reconfigure(a,b){this.events.emit(a,b)}append(a,b){let c=bm(this.plugins,{type:a,action:b});return()=>this.plugins.delete(c)}add(a){let b=[];return bp(a).forEach(a=>a&&this.plugins.add(bm(b,a))),()=>{b.forEach(a=>this.plugins.delete(a))}}exec(a,b,c){let d=b,e=Object.freeze(Object.create(c));for(let b of this.plugins)b.type===a&&(d=b.action(d,e));return d}};bS(),bS(),a9(),bS();var eD=eu();bb();var eE=function(a,b){let c=new eC,d=bH(a&&("string"==typeof a?{baseDir:a}:a)||{},b);if(!bl(d.baseDir))throw new ev(d,"Cannot use simple-git on a directory that does not exist");return Array.isArray(d.config)&&c.add(function(a){let b=bt(a,"-c");return{type:"spawn.args",action:a=>[...b,...a]}}(d.config)),c.add(function({allowUnsafeProtocolOverride:a=!1,allowUnsafePack:b=!1}={}){return{type:"spawn.args",action:(c,d)=>(c.forEach((e,f)=>{let g=f<c.length?c[f+1]:"";a||function(a,b){if("string"==typeof a&&"-c"===a.trim().toLowerCase()&&/^\s*protocol(.[a-z]+)?.allow/.test(b))throw new ew(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}(e,g),b||function(a,b){if(/^\s*--(upload|receive)-pack/.test(a))throw new ew(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if("clone"===b&&/^\s*-u\b/.test(a))throw new ew(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if("push"===b&&/^\s*--exec\b/.test(a))throw new ew(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}(e,d.method)}),c)}}(d.unsafe)),c.add({type:"spawn.args",action(a){let b,c=[];function d(a){(b=b||[]).push(...a)}for(let b=0;b<a.length;b++){let e=a[b];if(a7(e)){d(a8(e));continue}if("--"===e){d(a.slice(b+1).flatMap(a=>a7(a)&&a8(a)||a));break}c.push(e)}return b?[...c,"--",...b.map(String)]:c}}),c.add(function({onClose:a=!0,onExit:b=50}={}){function c(a,b,c){!1!==a&&(!0===a?b.promise:b.promise.then(()=>bw(a))).then(c.done)}return{type:"spawn.after",async action(d,{spawned:e,close:f}){let g=function(){let d=-1,e={close:(0,a$.yX)(),closeTimeout:(0,a$.yX)(),exit:(0,a$.yX)(),exitTimeout:(0,a$.yX)()},f=Promise.race([!1===a?ex:e.closeTimeout.promise,!1===b?ex:e.exitTimeout.promise]);return c(a,e.close,e.closeTimeout),c(b,e.exit,e.exitTimeout),{close(a){d=a,e.close.done()},exit(a){d=a,e.exit.done()},get exitCode(){return d},result:f}}(),h=!0,i=()=>void(h=!1);e.stdout?.on("data",i),e.stderr?.on("data",i),e.on("error",i),e.on("close",a=>g.close(a)),e.on("exit",a=>g.exit(a));try{await g.result,h&&await bw(50),f(g.exitCode)}catch(a){f(g.exitCode,a)}}}}(d.completion)),d.abort&&c.add(function(a){if(a)return[{type:"spawn.before",action(b,c){a.aborted&&c.kill(new ew(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(b,c){function d(){c.kill(new ew(void 0,"abort","Abort signal received"))}a.addEventListener("abort",d),c.spawned.on("close",()=>a.removeEventListener("abort",d))}}]}(d.abort)),d.progress&&c.add(function(a){let b="--progress",c=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action:(a,d)=>c.includes(d.method)?bn(a,b):a},{type:"spawn.after",action(c,d){d.commands.includes(b)&&d.spawned.stderr?.on("data",b=>{let c=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(b.toString("utf8"));c&&a({method:d.method,stage:String(c[1].toLowerCase().split(" ",1))||"unknown",progress:bs(c[2]),processed:bs(c[3]),total:bs(c[4])})})}}]}(d.progress)),d.timeout&&c.add(function({block:a,stdErr:b=!0,stdOut:c=!0}){if(a>0)return{type:"spawn.after",action(d,e){let f;function g(){f&&clearTimeout(f),f=setTimeout(i,a)}function h(){e.spawned.stdout?.off("data",g),e.spawned.stderr?.off("data",g),e.spawned.off("exit",h),e.spawned.off("close",h),f&&clearTimeout(f)}function i(){h(),e.kill(new ew(void 0,"timeout","block timeout reached"))}c&&e.spawned.stdout?.on("data",g),b&&e.spawned.stderr?.on("data",g),e.spawned.on("exit",h),e.spawned.on("close",h),g()}}}(d.timeout)),d.spawnOptions&&c.add(function(a){let b=bv(a,["uid","gid"]);return{type:"spawn.options",action:a=>({...b,...a})}}(d.spawnOptions)),c.add(eB(function(a=!1,b=function(a){return!!(a.exitCode&&a.stdErr.length)},c=function(a){return Buffer.concat([...a.stdOut,...a.stdErr])}){return(d,e)=>(a||!d)&&b(e)?c(e):d}(!0))),d.errors&&c.add(eB(d.errors)),!function(a,b=["git"],c=!1){let d=eA(bp(b),c);a.on("binary",a=>{d=eA(bp(a),c)}),a.append("spawn.binary",()=>d.binary),a.append("spawn.args",a=>d.prefix?[d.prefix,...a]:a)}(c,d.binary,d.unsafe?.allowUnsafeCustomBinary),new eD(d,c)}},70377:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>k});var e=c(43084),f=c(62503),g=c(13234),h=c(59723),i=c(31921),j=a([e,f,g]);async function k(){try{let a=await (0,e.fm)("codegpt-enterprise-config");if(a?.apiKey)return a.apiKey}catch(a){console.error("Error loading enterprise configuration:",a)}let a=g.jM.get(),b=a?.access_token;if(b&&parseInt(a?.expires_at+"000")<Date.now()){let c=(0,h.w)(await (0,i.UL)()),{data:d,error:e}=await c.auth.refreshSession({refresh_token:a?.refresh_token});e?(console.log("vicu\xf1a refreshSession error: ",e.message),(e.message.includes("Refresh Token Not Found")||e.message.includes("Already Used"))&&await (0,f.x)({accessToken:"",refreshToken:"",expiresAt:""})):(await (0,f.x)({accessToken:d.session.access_token,refreshToken:d.session.refresh_token,expiresAt:String(d.session.expires_at)}),b=d.session.access_token)}return b||void 0}[e,f,g]=j.then?(await j)():j,d()}catch(a){d(a)}})},73024:a=>{a.exports=require("node:fs")},73152:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{N:()=>j});var e=c(70377),f=c(827),g=c(93065),h=c(6088),i=a([e,f,h]);[e,f,h]=i.then?(await i)():i;let j=async({model:a,prompt:b,stopWords:c})=>{try{let d=await (0,e.A)(),i=await h.A.getVersion(),j=await (0,f.y)(),k=await fetch(`${j}/autocomplete`,{method:"POST",headers:{"Content-Type":"application/json","codegpt-version":i,Authorization:`Bearer ${d}`},body:JSON.stringify({model:a,prompt:b.prefix,maxTokens:g.S0,temperature:.3,stop:c,suffix:b.suffix})});if(!k.ok){if(429===k.status)throw Error("AUTOCOMPLETE_LIMIT_REACHED");let a=await k.text();throw Error(a)}let l=await k.json();return{data:{choices:[{text:l.choices[0].text}],autocompleteId:l.autocompleteId}}}catch(a){throw console.error("Error in CodeGPT autocomplete:",a),a}};d()}catch(a){d(a)}})},73566:a=>{a.exports=require("worker_threads")},74075:a=>{a.exports=require("zlib")},74998:a=>{a.exports=require("perf_hooks")},75452:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>i});var e=c(13234),f=c(93065),g=c(12953),h=a([e]);e=(h.then?(await h)():h)[0];let i=async({model:a,prompt:b,stopWords:c})=>{let d=e.FI.getByProvider("OpenAI")?.apikey;if(!d)throw Error("No API key found");let h=new g.Ay({apiKey:d}),i=await h.completions.create({model:a,prompt:b.prefix,suffix:b.suffix,max_tokens:f.S0,temperature:0,stop:c,stream:!1});return{data:{choices:i.choices.map(a=>({text:a.text,finish_reason:a.finish_reason})),usage:i.usage}}};d()}catch(a){d(a)}})},75919:a=>{a.exports=require("node:worker_threads")},76760:a=>{a.exports=require("node:path")},77030:a=>{a.exports=require("node:net")},78474:a=>{a.exports=require("node:events")},79428:a=>{a.exports=require("buffer")},79551:a=>{a.exports=require("url")},79646:a=>{a.exports=require("child_process")},79748:a=>{a.exports=require("fs/promises")},80481:a=>{a.exports=require("node:readline")},81630:a=>{a.exports=require("http")},83997:a=>{a.exports=require("tty")},84297:a=>{a.exports=require("async_hooks")},86439:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external")},86592:a=>{a.exports=require("node:inspector")},87027:(a,b)=>{function c(){let a,b,c="pending";return{promise:new Promise((c,d)=>{a=c,b=d}),done(b){"pending"===c&&(c="resolved",a(b))},fail(a){"pending"===c&&(c="rejected",b(a))},get fulfilled(){return"pending"!==c},get status(){return c}}}b.ud=b.yX=void 0,b.yX=c,b.ud=c},91645:a=>{a.exports=require("net")},91912:a=>{a.exports=require("better-sqlite3-multiple-ciphers")},93065:(a,b,c)=>{c.d(b,{MV:()=>i,S0:()=>f,g4:()=>g,jl:()=>d,kq:()=>h,rg:()=>e});let d={"c++":"//",c:"//",cpp:"//",csharp:"//",css:"/*",dart:"//",go:"//",html:"\x3c!--",java:"//",javascript:"//",javascriptreact:"//",json:"//",kotlin:"//",php:"//",powershell:"#",python:"#",r:"#",ruby:"#",shellscript:"#",swift:"//",terraform:"#",typescript:"//",typescriptreact:"//",vue:"//",yaml:"#",rust:"//",scala:"//",perl:"#",lua:"--",makefile:"#",sql:"--",handlebars:"{{!--",objectivec:"//",vb:"'",clojure:";;",scheme:";;",elixir:"#",erlang:"%",fsharp:"//",groovy:"//",matlab:"%",julia:"#",haxe:"//",nim:"#",pascal:"//",svelte:"//"},e={typescript:["\nfunction","\nclass","\nmodule","\nexport","\nimport"],javascript:["\nfunction","\nclass","\nexport","\nimport"],python:["\ndef","\nclass","\nimport","\nfrom"],java:["\nclass","\ninterface","\nenum","\npublic","\nprivate","\nprotected"],cpp:["\nclass","\nstruct","\nnamespace","\ntemplate","\n#include"],"c++":["\nclass","\nstruct","\nnamespace","\ntemplate","\n#include"],c:["\nstruct","\nunion","\n#include"],csharp:["\nclass","\nnamespace","\nusing","\npublic","\nprivate","\nprotected"],go:["\nfunc","\ntype","\nstruct","\ninterface","\npackage"],rust:["\nfn","\nstruct","\nimpl","\ntrait","\npub","\nuse"],php:["\nfunction","\nclass","\nnamespace","\nuse","\npublic","\nprivate","\nprotected"],ruby:["\ndef","\nclass","\nmodule","\nrequire"],kotlin:["\nfun","\nclass","\ninterface","\nobject","\npackage"],swift:["\nfunc","\nclass","\nstruct","\nenum","\nprotocol"],r:["\nfunction"],dart:["\nclass","\nvoid","\nvar","\nfinal","\nconst"],scala:["\ndef","\nclass","\nobject","\ntrait","\nimport"],perl:["\nsub","\nuse","\nmy"],lua:["\nfunction","\nlocal","\nrequire"],sql:["\nSELECT","\nINSERT","\nUPDATE","\nDELETE","\nCREATE"],handlebars:["\n{{#","\n{{!"],objectivec:["\n@interface","\n@implementation","\n#import"],vb:["\nSub","\nFunction","\nClass","\nModule"],clojure:["\ndef","\nns","\nlet"],scheme:["\ndefine","\nlambda","\nlet"],elixir:["\ndef","\ndefmodule","\nuse","\nalias"],erlang:["\n-module","\n-export","\nfun"],fsharp:["\nlet","\nmodule","\nopen","\ntype"],groovy:["\ndef","\nclass","\nimport"],matlab:["\nfunction","\nclassdef"],julia:["\nfunction","\nmodule","\nstruct","\nmacro"],haxe:["\nfunction","\nclass","\nimport","\npackage"],nim:["\nproc","\ntype","\nimport","\ntemplate"],pascal:["\nprocedure","\nfunction","\nunit"],svelte:["\nfunction","\nscript","\nimport"]},f=128,g=20,h=["csv","png","pdf","jpg","jpeg","gif","doc","xls","xlsx","docx","ppt","pptx","exe","msi","dll","bin","iso","dmg","deb","rpm","so","apk","ipa","o","a","oaut","class","jar","war","zip","tar","gz","tgz","bz2","xz","7z","rar","log","mp3","mp4","mov","avi","wmv","flv","mkv"],i=`In the Git diff, lines starting with "+" are additions, and lines starting with "-" are removals. The diff may contain changes from multiple files. Write a single-line commit message in English, ideally 50 characters or less, capturing the essence of the change, focusing on the "what" and "why" rather than the "how". If the change is more extensive, the commit message can exceed 50 characters but should remain concise.

### Examples:

**Input Diff Example 1 (1 file):**

\`\`\`
$> git diff --staged
#> Changes for src/components/Header.js 
diff --git a/src/components/Header.js b/src/components/Header.js  
index 1234567..abcdefg 100644  
--- a/src/components/Header.js  
+++ b/src/components/Header.js  
@@ -15,7 +15,7 @@ const Header = () => {  
   return (  
     <header>  
       <nav>  
-        <a href="/">Home</a>  
+        <a href="/">HomePage</a>  
         <a href="/about">About</a>  
-        <a href="/contact">Contact</a>  
+        <a href="/contact">Contact Us</a>  
       </nav>  
     </header>  
   );  
\`\`\`

**COMMIT MESSAGE:**
\`\`\`
Update navigation links in Header component for clarity

Revised the text of navigation links in the Header component from "Home" to "HomePage" and "Contact" to "Contact Us."
\`\`\`

---

**Input Diff Example 2 (1 file):**

\`\`\`
$> git diff --staged
#> Changes for src/utils/parseDate.js
diff --git a/src/utils/calculate.js b/src/utils/calculate.js  
index 123abcd..789xyz 100644  
--- a/src/utils/calculate.js  
+++ b/src/utils/calculate.js  
@@ -20,7 +20,9 @@ const calculateTotal = (items) => {  
   let total = 0;  
   items?.forEach(item => {  
     total += item.price * item.quantity;  
-    if (item.discount) total -= item.discount;  
+    if (item.discount) {  
+      total -= item.discount;  
+    }  
   });  
   return total;  
 }  
\`\`\`

**COMMIT MESSAGE:**
\`\`\`
Refactor discount logic block in calculateTotal function

Added curly braces to the discount condition in the calculateTotal function.
\`\`\`

---

**Input Diff Example 3 (2 files):**

\`\`\`
$> git diff --staged
#> Changes for src/common/formatDate.js
diff --git a/src/common/formatDate.js b/src/common/formatDate.js  
index 345abc..678def 100644  
--- a/src/common/formatDate.js  
+++ b/src/common/formatDate.js  
@@ -10,6 +10,7 @@ export const formatDate = (date) => {  
   const options = { year: 'numeric', month: 'long', day: 'numeric' };  
   return new Intl.DateTimeFormat('en-US', options).format(date);  
 };  
 
+// Note: Input date must be in UTC format for consistent results  
 export default formatDate;  

#> Changes for src/helpers/parseDate.js
diff --git a/src/helpers/parseDate.js b/src/helpers/parseDate.js  
index 789xyz..123lmn 100644  
--- a/src/helpers/parseDate.js  
+++ b/src/helpers/parseDate.js  
@@ -5,6 +5,7 @@ export const parseDate = (string) => {  
   // Converts a date string to a Date object  
   return new Date(Date.parse(string));  
 };  
 
+// Ensure input string is in ISO format (YYYY-MM-DDTHH:MM:SSZ)  
 export default parseDate;  
\`\`\`

**COMMIT MESSAGE:**
\`\`\`
Add comments to clarify date formats in formatDate and parseDate

Added comments to the formatDate and parseDate functions, specifying the required input formats (UTC for formatDate and ISO for parseDate).
\`\`\`

---

**Input Diff Example 4 (4 files):**

\`\`\`
$> git diff --staged
#> Changes for src/api/request_handler.py
diff --git a/src/api/request_handler.py b/src/api/request_handler.py  
index 123abc..456def 100644  
--- a/src/api/request_handler.py  
+++ b/src/api/request_handler.py  
@@ -35,7 +35,7 @@ def fetch_data(endpoint):  
     try:  
         response = requests.get(endpoint)  
         response.raise_for_status()  
-        return response.json()  
+        return response.content  
     except requests.exceptions.RequestException as e:  
         log_error(e)  
         return None  

#> Changes for src/helpers/logger.py
diff --git a/src/helpers/logger.py b/src/helpers/logger.py  
index 789ghi..012jkl 100644  
--- a/src/helpers/logger.py  
+++ b/src/helpers/logger.py  
@@ -10,6 +10,7 @@ def log_error(error):  
     # Logs error to a file  
     with open('logs/error.log', 'a') as log_file:  
         log_file.write(f"{datetime.now()}: {str(error)}
")  
+    send_notification(str(error))  # Notify admin  

#> Changes for src/utils/data_processor.py 
diff --git a/src/utils/data_processor.py b/src/utils/data_processor.py  
index 345mno..678pqr 100644  
--- a/src/utils/data_processor.py  
+++ b/src/utils/data_processor.py  
@@ -25,6 +25,8 @@ def process_data(data):  
     # Processes raw data  
     if not isinstance(data, list):  
         raise ValueError("Expected data to be a list")  
+    if not data:  
+        raise ValueError("Data cannot be empty")  
     return [item.lower() for item in data]  

#> Changes for src/tests/test_data_processor.py 
diff --git a/src/tests/test_data_processor.py b/src/tests/test_data_processor.py  
index 901stu..234vwx 100644  
--- a/src/tests/test_data_processor.py  
+++ b/src/tests/test_data_processor.py  
@@ -5,7 +5,7 @@ def test_process_data():  
     data = ["Hello", "World"]  
     result = process_data(data)  
     assert result == ["hello", "world"]  
-  
+    with pytest.raises(ValueError):  
+        process_data([])  # Test for empty data  
\`\`\`

**COMMIT MESSAGE:**
\`\`\`
Enhance data handling and introduce error notifications across core modules

Changed \`fetch_data\` in request_handler to return \`response.content\` instead of \`response.json()\`, ensuring compatibility with non-JSON responses. Added a notification system to the logger in logger.py to alert administrators in real-time when an error occurs. Enhanced data validation in data_processor.py by adding a check for empty data, improving robustness. Updated test_data_processor.py to include tests for empty data cases, increasing test coverage and preventing future regressions.
\`\`\`

---`},94735:a=>{a.exports=require("events")}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[5879,5009,3999,4931,2949,6378,9489,2953,8550,3084,827,8674],()=>b(b.s=25968));module.exports=c})();
//# sourceMappingURL=route.js.map